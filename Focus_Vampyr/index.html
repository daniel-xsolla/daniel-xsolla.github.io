<!DOCTYPE html>
<!-- saved from url=(0040)https://us-focushop.nexway.com/cart.html -->
<html lang="en" class="gr__us-focushop_nexway_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- analyticstags head top -->
    <!-- APPEL nxw_analyticstags_head_top -->
<!-- analyticstags head top end -->
       <!-- head_meta -->


<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="robots" content="noindex, nofollow">
<!-- head_meta_off -->
<!-- analyticstags head meta -->
    <!-- APPEL nxw_analyticstags_head_meta -->
<!-- <meta name="google-site-verification" content="dP8Dgjog8NVAF6cBESGI2gKdWKpiNTF4IOFJeigG6Yk"> -->
<!-- analyticstags head meta end -->
    <title>Cart | Focus</title>
        <link rel="shortcut icon" type="image/x-icon" href="http://us-focushop.nexway.com/img/stores/focus/favicon.ico?v=3">
  <!-- ICONES MOBILE ET TABLETTE -->
        <link rel="apple-touch-icon" href="http://us-focushop.nexway.com/img/stores/focus/touch-icon_57.png">
        <link rel="apple-touch-icon" sizes="57x57" href="http://us-focushop.nexway.com/img/stores/focus/touch-icon_57.png">
        <link rel="apple-touch-icon" sizes="72x72" href="http://us-focushop.nexway.com/img/stores/focus/touch-icon_72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="http://us-focushop.nexway.com/img/stores/focus/touch-icon_114.png">
        <link rel="apple-touch-icon" sizes="144x144" href="http://us-focushop.nexway.com/img/stores/focus/touch-icon_144.png">
    <!-- head_font - start -->
<link href="./Focus_Vampyr_files/fonts.css" rel="stylesheet" type="text/css">
<!-- head_font - end -->
        <!-- head_css http://us-focushop.nexway.com -->
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/highslide.css">
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/bootstrap.min.css">
<!-- CSS Generic Override -->
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/nxw_source.css">
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/nxw_main.css">
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/nxw_css_payment.css">
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/nxw_main(1).css">
<link rel="stylesheet" href="./Focus_Vampyr_files/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/nxw_css_overide.css">
<link rel="stylesheet" type="text/css" href="./Focus_Vampyr_files/directpayment.css">
<!-- head_css_off -->
<!-- head_js -->
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src=""></script>
  <script src=""></script>
<![endif]-->
        <script async="" src="./Focus_Vampyr_files/analytics.js"></script><script src="./Focus_Vampyr_files/jquery.js"></script>
    <script src="./Focus_Vampyr_files/bootstrap.min.js"></script>
    <script src="./Focus_Vampyr_files/jquery.tools.min.js"></script>
<!--ANIM-->
<script type="text/javascript" src="./Focus_Vampyr_files/nxwTools.js"></script>
<script type="text/javascript" src="./Focus_Vampyr_files/paymentCompil.min.js"></script>
<script type="text/javascript" src="./Focus_Vampyr_files/directpayment.js"></script>
        <!-- head_plugins -->
<!-- head_plugins_highslide -->
<style>
.highslide-dimming{background:#000}
.highslide-container div{font-family:Arial,Verdana,Helvetica,sans-serif;text-align:left}
.highslide-wrapper,.highslide-outline,.highslide-html{background:none}
.highslide-html-content{padding:5px}
.highslide-body{padding:5px}
.highslide-header{display:none}
.highslide-footer{display:none}
.highslide-container h1,.highslide-container h2,.highslide-container h3,.highslide-container h4{margin:0;padding:0}
</style>
<script src="./Focus_Vampyr_files/highslide-full.js"></script>
<script>
//<![CDATA[
hs.graphicsDir = 'true';
hs.align = 'center';
hs.wrapperClassName = 'borderless';
hs.transitions = ['expand', 'crossfade'];
hs.outlineType = null;
hs.expandCursor = null;
hs.restoreCursor = null;
hs.fadeInOut = true;
hs.allowHeightReduction = false;
hs.dimmingOpacity = 0.40;
hs.showCredits = false;
hs.registerOverlay({
html: '<div class="closebutton" onclick="return hs.close(this)" title="Close"></div>',
position: 'top right',
useOnHtml: true
});
// Add the controlbar
if (hs.addSlideshow) hs.addSlideshow({
    slideshowGroup: 'screenshot',
    interval: 5000,
    repeat: false,
    useControls: true,
    fixedControls: 'fit',
    overlayOptions: {
        opacity: .6,
        position: 'bottom center',
        hideOnMouseOut: true
    }
});
//]]>
</script>
<!-- head_plugins_highslide_off -->
<!-- head_plugins_off -->
<script type="text/javascript">
//<![CDATA[
    function validFreepayment(){
           //accountCreate(true);
           if(accountCreate(true)){
                return  self.location.href = "payment_free.html";
           }else{
              $(window).scrollTop('#loginOld');
              return false;
           }
      return false;
    }
    function check_free_payment(){
        var check_total = $('#cart-total-hidden').val();
        if(check_total ==0.00){
            $('#nexway-checkout-form').css({display:'none'});
            $('.payment-method').css({display:'none'});
            $('.payment-infos').css({display:'none'});
            $('.cclist ').css({display:'none'});
            $('.payment-method-title').css({display:'none'});
            $('.cart-validation a.btn').attr('href','payment_free.html');
            $('.cart-validation a.btn').attr('id','btn-cart-free');
            $('.cart-validation a.btn').attr('onclick','return validFreepayment();');
        }else{
            $('#nexway-checkout-form').css({display:'block'});
            $('.payment-method').css({display:'block'});
            $('.payment-infos').css({display:'block'});
            $('.cclist ').css({display:'block'});
            $('.payment-method-title').css({display:'block'});
            $('.cart-validation a.btn').attr('href','#0');
            $('.cart-validation a.btn').attr('id','buy-xsolla');
            $('.cart-validation a.btn').attr('onclick','return initXsolla();return false;');
        }
        return false;
    }
$(document).ready(function(){
     check_free_payment();
     $('#buy-xsolla').click(function(){
        $("#Customer_Main_Country, #Customer_Main_Province, #Customer_Delivery_Country, #Customer_Delivery_Province").addClass("form-control");
     });
});
//]]>
</script>
<style>
#buy-xsolla {clear: both;}
/* Absolute Center Spinner */
.loading {
  position: fixed;
  z-index: 999;
  height: 2em;
  width: 2em;
  overflow: show;
  margin: auto;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}
/* Transparent Overlay */
.loading:before {
  content: '';
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.3);
}
/* :not(:required) hides these rules from IE9 and below */
.loading:not(:required) {
  /* hide "loading..." text */
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.loading:not(:required):after {
  content: '';
  display: block;
  font-size: 10px;
  width: 1em;
  height: 1em;
  margin-top: -0.5em;
  -webkit-animation: spinner 1500ms infinite linear;
  -moz-animation: spinner 1500ms infinite linear;
  -ms-animation: spinner 1500ms infinite linear;
  -o-animation: spinner 1500ms infinite linear;
  animation: spinner 1500ms infinite linear;
  border-radius: 0.5em;
  -webkit-box-shadow: rgba(0, 0, 0, 0.75) 1.5em 0 0 0, rgba(0, 0, 0, 0.75) 1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) 0 1.5em 0 0, rgba(0, 0, 0, 0.75) -1.1em 1.1em 0 0, rgba(0, 0, 0, 0.5) -1.5em 0 0 0, rgba(0, 0, 0, 0.5) -1.1em -1.1em 0 0, rgba(0, 0, 0, 0.75) 0 -1.5em 0 0, rgba(0, 0, 0, 0.75) 1.1em -1.1em 0 0;
  box-shadow: rgba(0, 0, 0, 0.75) 1.5em 0 0 0, rgba(0, 0, 0, 0.75) 1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) 0 1.5em 0 0, rgba(0, 0, 0, 0.75) -1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) -1.5em 0 0 0, rgba(0, 0, 0, 0.75) -1.1em -1.1em 0 0, rgba(0, 0, 0, 0.75) 0 -1.5em 0 0, rgba(0, 0, 0, 0.75) 1.1em -1.1em 0 0;
}
/* Animation */
@-webkit-keyframes spinner {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-moz-keyframes spinner {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-o-keyframes spinner {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes spinner {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
</style>
<!-- analyticstags head bottom -->
    <!-- APPEL nxw_analyticstags_head_bottom -->
<!-- start google universal analytics async -->
<!-- ssssss -->
<!-- end google universal analytics async -->
<!-- analyticstags head bottom end -->
    <!--ANIM-->
<style type="text/css">.highslide-viewport-size {position: fixed; width: 100%; height: 100%; left: 0; top: 0}</style></head>
<body data-gr-c-s-loaded="true">
<!-- _check_referer =>http://us-focushop.nexway.com/sg_clef.html | $_SERVER/HTTP_REFERER => http://us-focushop.nexway.com/games/role-playing-rpg/vampyr-824707.html | _CONF_SITE_MODE => store_opc_basic -->
<!-- analyticstags header -->
    <!-- APPEL nxw_analyticstags_body_header -->
<!-- analyticstags header end -->
<div class="loading" style="display:none">Loading…</div>
    <!-- site_cart -->
    <div id="site" class="container brand-cart-checkout">
    <!-- in BODY_HEADER_CART -->
<!-- // BRAND NAV BAR  -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid navbar-container">
    <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Menu</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- drectory <span style="font-family: monospace">'http://www.focus-home.com/'</span>-->
                <a class="navbar-brand" href="http://www.focus-home.com/">FOCUS</a>
        </div>
   <!--_ONLY_GAMES=  <span style="font-family: monospace">'no'</span>   _CORE_GAMES=  <span style="font-family: monospace">'core'</span>  _CASUAL_GAMES=  <span style="font-family: monospace">NULL</span> _SOFTWARE=  <span style="font-family: monospace">NULL</span> -->
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <!--_TPL_PAGE cart.html-->
                <ul class="nav navbar-nav">
                </ul>
                <ul id="menu-cart" class="nav navbar-nav navbar-right">
                            <!-- ACCOUNT_LOGGED_OUT_LINK -->
<li><a href="https://us-focushop.nexway.com/account_login.html"><span class="glyphicon glyphicon-log-in"></span>Sign in</a></li>
                     <li><a id="miniCartLink" href="https://us-focushop.nexway.com/cart.html"><span class="glyphicon glyphicon-shopping-cart"></span><span class="hidden-sm">Cart </span><span class="cart_nbitems">

1</span></a></li>
                </ul>
                    <a href="http://us-focushop.nexway.com/" class="btn btn-default btn-sm navbar-btn">
                        <span class="glyphicon glyphicon-shopping-cart"></span>Continue Shopping
                    </a>
            </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
        <div class="container">
            <div class="row">
                <div id="ac-search-results" class="ac-search-results"></div>
            </div>
        </div>
</nav>
<!--  BRAND NAV BAR // -->
<div id="content" class="page-content checkout">
    <!-- // CHECKOUT \ -->
        <div class="row ariane">
            <ol class="col-xs-12 breadcrumb">
              <li><a href="https://us-focushop.nexway.com/index.html"><span class="glyphicon glyphicon-home"></span>Home</a></li>
              <li class="active"><span class="glyphicon glyphicon-shopping-cart"></span>Checkout</li>
            </ol>
          </div>
            <div class="row cart-list">
                <!---->
<!-- cart -->
<!-- full_cart -->
 <!-- // CART \\ -->
            <div class="col-xs-12" id="cart-head-title">
              <h3><span class="glyphicon glyphicon-lg glyphicon-shopping-cart"></span>Cart</h3>
            </div>
    <!-- // List Legend Column \\ -->
            <div class="col-xs-12 theader">
              <div class="row col-labels">
                <div class="col-xs-12 col-sm-7">
                  <span>Your products</span>
                </div>
                <div class="hidden-xs col-sm-5">
                  <span class="col-xs-6"> Quantity</span>
                  <span class="col-xs-6 head_price_title">Unit Price</span>
                </div>
              </div>
            </div><!-- \\ Column Legend // -->
    <!-- // Product List \\ -->
<div class="col-xs-12" id="load-cart">

<!-- _TPL_PAGE ajax_cart.html tpl :load_cart_country-->


   
                    <!-- // 1 Product  -->
            
            <div class="row cart-item box_to_hide" id="Product-824707-1">
                <div class="col-xs-12 col-sm-7">
                    <div class="row">
                    <div class="col-xs-3 col-sm-2 item-visual">
                        
                            <img src="./Focus_Vampyr_files/Vampyr_M.jpg" alt="">
                        
                    </div>
                    <div class="col-xs-9 col-sm-10  item-description">
                        <div class="row">
                            <div class="col-xs-12">
                                <h5 class="item-title">



       
    Vampyr

<!-- rendering platform icons -->


<div class="tooltip-os">
    
        <span class="infobulle infobulle-os">
            <span class="os-support pc" aria-hidden="true">PC</span>
            
            <span class="note">
            
                PC
            
            </span>
            
        </span>
    
</div>
                                </h5>
                                



















    

                                <div class="item-infos">
                                
                                    
                                        
                                            <span class="item-info">Release date: <span>31/03/2018 at: 00:01</span></span>
                                        
                                    
                                    <span class="item-info">Publisher: <span> Focus Home Interactive</span></span>
                                    
                                        <span class="item-info">Language: <span>English</span></span>
                                    
                                
                                </div>
                            </div>
                        </div>
                    </div>
                     
                  </div>
                </div>
                <div class="col-xs-12 col-sm-5 item-cost">
                    <div class="row">
                                         <div class="col-xs-6 item-quantity">
                      <!--caddie quantité-->
                      
                          
                            <form method="post" action="https://us-focushop.nexway.com/ajax_cart.html" name="F_FOC2731AUSStore" id="F_FOC2731AUSStore" onsubmit="return false;" class="form-qty-box">
                               
                                <div class="form-qty form-group">
                                    <input type="hidden" name="R" value="FOC2731AUSStore">
                                    <input id="quantity1" type="text" name="Q" onchange="handleChangeQty(this, &#39;F_FOC2731AUSStore&#39;);return false;" value="1" maxlength="4">
                                    <a href="https://us-focushop.nexway.com/cart.html#" class="plus-button" onclick="handleChangeQty(this, &#39;F_FOC2731AUSStore&#39;);trackclick(this);return false;"><span class="glyphicon glyphicon-plus"></span></a>
                                    <a href="https://us-focushop.nexway.com/cart.html#" class="minus-button" onclick="handleChangeQty(this, &#39;F_FOC2731AUSStore&#39;);trackclick(this);return false;"><span class="glyphicon glyphicon-minus"></span></a>
                                </div>
                            </form>
                            
                        
                    </div>
                        <div class="col-xs-6 item-price-total">
                                             <div class="item-prices">
                    
                        
                        <span class="item-price-old">$­49.99</span>
                        
                        <span class="item-price-current">$­44.99</span>
                    
                        
                  </div>
                                                 <button type="button" class="btn btn-xs" onclick="del_to_cart(&#39;R=FOC2731AUSStore&amp;Q=0&#39;,&#39;.prod-824707&#39;);trackclick(this);return false;">
                        <span class="glyphicon glyphicon-trash"></span>
                      </button>
                        </div>
                    </div>
                </div>
            </div>
          
        <!--  1 Product end // -->
   






    


       <!-- // Voucher Code \ -->
   <div class="row cart-price-voucher coupon-wrap">

    
        
        <a href="https://us-focushop.nexway.com/cart.html#cart-voucher" id="PROMO_LINK" class="col-xs-12 voucher-reveal" onclick="document.getElementById(&#39;cart-voucher&#39;).style.display = &#39;block&#39;;document.getElementById(&#39;PROMO_LINK&#39;).style.display = &#39;none&#39;;return false">Do you have a promo code?</a>
        <div id="cart-voucher" class="col-xs-8">
            <form name="CADDIEPROMO" id="CADDIEPROMO" method="post" action="https://us-focushop.nexway.com/ajax_cart.html" class="caddie-promo" onsubmit="return false;">
                <div class="input-group">
                    <input type="text" name="Code_TFR" id="Code_TFR" class="form-control code" placeholder="Enter your promo code here">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="javascript:valide_code();return false;">Ok</button>
                    </span>
                </div>
            </form>
        </div>
    

    </div>
    <!-- \ Voucher Code // --> 

  <!-- // Total Cart  -->
  <div class="row cart-price-resume">
    <div class="badge">
      
          <span class="label total-label">Total</span>
          <span class="cart-price-total">$­44.99</span>
          
          <span class="taxes-included">includes <span class="taxes-included-value">$­0.00</span> taxes</span>
      
      <input type="hidden" class="cart-total-hidden" id="cart-total-hidden" value="44.99">
    </div>
  </div>
<!--  Total Cart // -->





 </div>
<!--// End center -->
<!-- full_cart_off -->
<!-- cart_off -->
            </div>
        <div class="row client-profile">
            <!-- // CLIENT INFOS \ -->
            <div class="col-xs-12">
                <h3><span class="glyphicon glyphicon-lg glyphicon-user"></span>Personal Info</h3>
            </div>
           <!-- // IF client not logged \\ -->
            <!-- <form id="cart-login" class="row" action="https://us-focushop.nexway.com/POST">
                <h4><span class="glyphicon glyphicon-chevron-right"></span>Registered customer</h4>
                <input type="hidden" name="verif" value="1">
                <input type="hidden" name="action" value="login">
                <input type="hidden" name="next" value="/index.html">
                <div class="col-xs-12 col-md-10 col-md-offset-1">
                    <div class="alert alert-danger  alert-dismissible account-errors" role="alert" id="account-errors" style="display:none;">
                        <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span><span class="sr-only">X</span></button>
                        <p>There was an error with your E-Mail/Password combination. Please try again.</p>
                    </div>
                    <div class="col-xs-12 col-sm-6 form-group">
                      <div class="row">
                        <label for="input-login" class="col-xs-4">Email : </label>
                        <div class="col-xs-8">
                          <input type="text" name="Login_Email" id="Login_Email" class="form-control" value="" required="required" pattern="" title="Email">
                       </div>
                      </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 form-group">
                      <div class="row">
                        <label for="input-password" class="col-xs-4">Password :</label>
                        <div class="col-xs-8">
                            <input id="Login_Password" type="password" name="Login_Password" class="form-control" value="" required="required" pattern="" title="">
                            <a href="https://us-focushop.nexway.com/resetpassword.html" class="forgot-password">Forgot your password?</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-12">
                       <button type="button" id="bt-login" class="btn btn-sm btn-default" onclick="accountLogin(true);return false;"><span class="glyphicon glyphicon-log-in"></span>Sign in</button>
                    </div>
                </div>
            </form>
<!-- state:,, -->





















            <!-- <form name="formulaire" method="post" action="https://us-focushop.nexway.com/cart.html?" class="row " id="register" onsubmit="return validateForm();">
                          <h4><span class="glyphicon glyphicon-chevron-right"></span>New customer</h4>
               <div style="display:none;" id="errors" role="alert" class="alert alert-danger  alert-dismissible">
                <button data-dismiss="alert" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">X</span></button>
                <p>All mandatory fields must be filled in correctly. Please review and try again.</p>
              </div>
               <div style="display:none;" id="errors-account-already-exists" role="alert" class="alert alert-danger  alert-dismissible">
                <button data-dismiss="alert" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">X</span></button>
                <p>This email address is related to an existing Account. Please sign-in as a Returning Customer using this email address.</p>
              </div>
              <div class="col-xs-12 col-md-10 col-md-offset-1">
                  <input type="hidden" name="Customer[Main]" value="1">
<input type="hidden" name="form_submit" id="form_submit" value="1">
<input type="hidden" name="Customer[Delivery]" value="1">
<input type="hidden" name="next" value="confirm.html">
<input type="hidden" name="action" id="action" value="reg">
                      <input type="hidden" id="Customer_Main_Type" name="Customer[Main][Type]" value="1">
                  <div class="col-xs-12 col-sm-6 form-group form-clear company-name" style="display: none;">
                    <div class="row">
                      <label for="Customer_Main_Company_Name" class="col-xs-4">Company name<span class="asterisk">*</span> : </label>
                     <div class="col-xs-8">
                         <input id="Customer_Main_Company_Name" type="text" name="Customer[Main][Company_Name]" class="form-control" value="" title="Company name" onblur="return validField(this,&#39;strict&#39;);">
                         <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Company_Name_Error">
                             <span class="glyphicon glyphicon-exclamation-sign"></span><span>Your Company name is required. Please try again.</span>
                         </div>
                     </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group form-clear company-tax" style="display: none;">
                    <div class="row">
                      <label for="Customer_Main_Company_EEC_VAT" class="col-xs-4">Federal Tax Identification Number (US Only) : </label>
                     <div class="col-xs-8">
                         <input id="Customer_Main_Company_EEC_VAT" type="text" name="Customer[Main][Company_EEC_VAT]" class="form-control" value="" title="Federal Tax Identification Number (US Only)">
                         <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Company_TAX_Error">
                             <span class="glyphicon glyphicon-exclamation-sign"></span><span>Vat number not found</span>
                         </div>
                     </div>
                    </div>
                  </div>
                <div class="col-xs-12  col-sm-6 form-group clear-left">
                    <div class="row">
                        <label for="Customer_Main_Title" class="col-xs-4 control-label civil-status">Title<span class="asterisk">*</span> : </label>
                        <div class="col-xs-8">
                            <span class="branded-select">
                            <select name="Customer[Main][Title]" id="Customer_Main_Title" class="form-control">
                                <option value="Mr.">Mr.</option>
                                <option value="Mrs.">Mrs.</option>
                            </select>
                             </span>
                            <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Title_Error">
                                <span class="glyphicon glyphicon-exclamation-sign"></span><span>Your title is required. Please try again.</span>
                            </div>
                        </div>
                    </div>
                </div>
                  <div class="col-xs-12 col-sm-6 form-group form-clear">
                    <div class="row">
                      <label for="Customer_Main_First_Name" class="col-xs-4">First name<span class="asterisk">*</span> : </label>
                     <div class="col-xs-8">
                        <input id="Customer_Main_First_Name" type="text" name="Customer[Main][First_Name]" class="form-control" value="" title="First name" onblur="return validField(this,&#39;strict&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_First_Name_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your first name is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Last_Name" class="col-xs-4 customer_main_last_name_custom">Last name<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Last_Name" type="text" name="Customer[Main][Last_Name]" class="form-control" value="" title="Last name" onblur="return validField(this,&#39;strict&#39;);">
                       <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Last_Name_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your last name is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Address" class="col-xs-4">Address<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Address" type="text" name="Customer[Main][Address]" class="form-control" value="" title="Address" onblur="return validField(this,&#39;string&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Address_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your address is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Zip" class="col-xs-4">ZIP<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Zip" type="text" name="Customer[Main][Zip]" class="form-control zip zipcode" value="" title="ZIP" onblur="return validField(this,&#39;zip&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Zip_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your post code is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_City" class="col-xs-4">Town / City<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_City" type="text" name="Customer[Main][City]" class="form-control" value="" title="Town / City" onblur="return validField(this,&#39;strict&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_City_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your city / town is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                       
                    <div class="row">
                      <label for="Customer_Main_Country" class="col-xs-4 control-label">Country<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8 country-2">
                        <span class="branded-select">
                           <script type="text/javascript">
    //<![CDATA[
    // function ajxChangeCountryCustomer_Main_Country(oThis) {
    //   if ($('#Customer_Main_Province')) {
    //       $('#Customer_Main_Province').find('option').remove().end().append('<option value="0" selected="selected" ></option>');
    //       var aCountryID = $('#Customer_Main_Country').val();
    //       $.ajax({
    //         url: "/nxw_ajax.html",
    //         type: "POST",
    //         data: ({action : 'getProvinces',
    //                 showselmsg : 'true',
    //                 country : aCountryID,
    //                 format : 'json'
    //         }),
    //         error: function(data){
    //           console.log('nxw_ajax.html not found');
    //         },
    //         success: function(data){
    //           var checkarray = $.isArray(data);
    //           if(data.length >2){
    //               var aDatas    = $.parseJSON(data);
    //               var aDone     = false;
    //               var aSelected = false;
    //               $('#Customer_Main_Province').find('option').remove().end();
    //               $.each(aDatas, function(key, val) {
    //                 if ('' == val.Province__) {
    //                   $('#Customer_Main_Province').append('<option value="' + val.Province__ + '" selected="selected">' + val.Name_Local + '</option>');
    //                   aSelected = val.Province__;
    //                 } else {
    //                   $('#Customer_Main_Province').append('<option value="' + val.Province__ + '">' + val.Name_Local + '</option>');
    //                 }
    //                 aDone = true;
    //               });
    //           }if (aDone) {
    //             $('#Customer_Main_ProvinceAsterix').show();$('#Customer_Main_Province').removeAttr("disabled");
    //                     $('#nxw_province_castor').show();if (aSelected) {
    //                   $('#Customer_Main_Province').prepend('<option value="none">Please select an option</option>');
    //                 } else {
    //                   $('#Customer_Main_Province').prepend('<option value="none" selected="selected">Please select an option</option>');
    //                   $('#Customer_Main_Province')[0].options[0].selected = true;
    //                 }} else {
    //             $('#Customer_Main_ProvinceAsterix').hide();$('#Customer_Main_Province').attr("disabled","disabled");
    //                     $('#nxw_province_castor').hide();}}
    //       });
    //   }
    // }
    //]]>
</script><select name="Customer[Main][Country]" class="form-control" id="Customer_Main_Country" onchange="ajxChangeCountryCustomer_Main_Country(this);validSelect(&#39;Customer_Main_Country&#39;);" tabindex="1" "_conf_ajx_countries_provinceline_id="">
            <option value="">Select your country</option>
            <option value="184">Afghanistan</option>
            <option value="185">Aland, iles</option>
            <option value="158">Albania</option>
            <option value="157">Algeria</option>
            <option value="235">American Samoa</option>
            <option value="156">Andorra</option>
            <option value="155">Angola</option>
            <option value="154">Anguilla</option>
            <option value="186">Antarctica</option>
            <option value="187">Antigua and Barbuda</option>
            <option value="153">Argentina</option>
            <option value="152">Armenia</option>
            <option value="151">Aruba</option>
            <option value="150">Australia</option>
            <option value="149">Austria</option>
            <option value="188">Azerbaijan</option>
            <option value="148">Bahamas</option>
            <option value="147">Bahrain</option>
            <option value="146">Bangladesh</option>
            <option value="145">Barbados</option>
            <option value="144">Belarus</option>
            <option value="143">Belgium</option>
            <option value="189">Belize</option>
            <option value="180">Benin</option>
            <option value="142">Bermuda</option>
            <option value="190">Bhutan</option>
            <option value="141">Bolivia</option>
            <option value="140">Bosnia and Herzegovina</option>
            <option value="139">Botswana</option>
            <option value="191">Bouvet Island</option>
            <option value="138">Brazil</option>
            <option value="223">British Indian Ocean Territory</option>
            <option value="136">Brunei</option>
            <option value="135">Bulgaria</option>
            <option value="176">Burkina Faso</option>
            <option value="134">Burundi</option>
            <option value="192">Cambodia</option>
            <option value="133">Cameroon</option>
            <option value="132">Canada</option>
            <option value="250">Canaries Islands</option>
            <option value="193">Cape Verde</option>
            <option value="131">Cayman Islands</option>
            <option value="194">Central African Republic</option>
            <option value="130">Chad</option>
            <option value="129">Chile</option>
            <option value="128">China</option>
            <option value="195">Christmas Island</option>
            <option value="196">Cocos (Keeling) Islands</option>
            <option value="127">Colombia</option>
            <option value="197">Comoros</option>
            <option value="126">Congo</option>
            <option value="165">Congo (DRC)</option>
            <option value="198">Cook Islands</option>
            <option value="125">Costa Rica</option>
            <option value="88">Côte d'Ivoire</option>
            <option value="124">Croatia</option>
            <option value="199">Cuba</option>
            <option value="123">Cyprus</option>
            <option value="122">Czech Republic</option>
            <option value="121">Denmark</option>
            <option value="178">Djibouti</option>
            <option value="120">Dominica</option>
            <option value="119">Dominican Republic</option>
            <option value="118">Ecuador</option>
            <option value="117">Egypt</option>
            <option value="116">El Salvador</option>
            <option value="204">Equatorial Guinea</option>
            <option value="115">Eritrea</option>
            <option value="114">Estonia</option>
            <option value="113">Ethiopia</option>
            <option value="200">Falkland Islands (Islas Malvinas)</option>
            <option value="112">Faroe Islands</option>
            <option value="111">Fiji Islands</option>
            <option value="110">Finland</option>
            <option value="109">France</option>
            <option value="169">French Guiana</option>
            <option value="174">French Polynesia</option>
            <option value="241">French Southern and Antarctic Lands</option>
            <option value="175">Gabon</option>
            <option value="201">Gambia</option>
            <option value="108">Georgia</option>
            <option value="107">Germany</option>
            <option value="106">Ghana</option>
            <option value="177">Gibraltar</option>
            <option value="105">Greece</option>
            <option value="104">Greenland</option>
            <option value="103">Grenada</option>
            <option value="170">Guadeloupe</option>
            <option value="203">Guam</option>
            <option value="102">Guatemala</option>
            <option value="256">Guernsey</option>
            <option value="101">Guinea</option>
            <option value="100">Guinea-Bissau</option>
            <option value="99">Guyana</option>
            <option value="98">Haiti</option>
            <option value="205">Heard Island and McDonald Islands</option>
            <option value="97">Honduras</option>
            <option value="96">Hong Kong</option>
            <option value="95">Hungary</option>
            <option value="94">Iceland</option>
            <option value="93">India</option>
            <option value="92">Indonesia</option>
            <option value="209">Iran</option>
            <option value="210">Iraq</option>
            <option value="91">Ireland</option>
            <option value="255">Isle of Man</option>
            <option value="90">Israel</option>
            <option value="89">Italy</option>
            <option value="87">Jamaica</option>
            <option value="86">Japan</option>
            <option value="254">Jersey</option>
            <option value="85">Jordan</option>
            <option value="84">Kazakhstan</option>
            <option value="83">Kenya</option>
            <option value="211">Kiribati</option>
            <option value="80">Kuwait</option>
            <option value="82">Kyrgyzstan</option>
            <option value="79">Laos</option>
            <option value="183">Latvia</option>
            <option value="77">Lebanon</option>
            <option value="212">Lesotho</option>
            <option value="75">Liberia</option>
            <option value="213">Libya</option>
            <option value="76">Liechtenstein</option>
            <option value="74">Lithuania</option>
            <option value="73">Luxembourg</option>
            <option value="72">Macao SAR</option>
            <option value="214">Macedonia</option>
            <option value="70">Madagascar</option>
            <option value="69">Malawi</option>
            <option value="68">Malaysia</option>
            <option value="67">Maldives</option>
            <option value="66">Mali</option>
            <option value="65">Malta</option>
            <option value="216">Marshall Islands</option>
            <option value="172">Martinique</option>
            <option value="64">Mauritania</option>
            <option value="63">Mauritius</option>
            <option value="217">Mayotte</option>
            <option value="62">Mexico</option>
            <option value="218">Micronesia</option>
            <option value="61">Moldova</option>
            <option value="60">Monaco</option>
            <option value="58">Mongolia</option>
            <option value="252">Montenegro</option>
            <option value="59">Montserrat</option>
            <option value="57">Morocco</option>
            <option value="56">Mozambique</option>
            <option value="219">Myanmar</option>
            <option value="55">Namibia</option>
            <option value="220">Nauru</option>
            <option value="54">Nepal</option>
            <option value="53">Netherlands</option>
            <option value="52">Netherlands Antilles</option>
            <option value="171">New Caledonia</option>
            <option value="51">New Zealand</option>
            <option value="50">Nicaragua</option>
            <option value="49">Niger</option>
            <option value="48">Nigeria</option>
            <option value="221">Niue</option>
            <option value="222">Norfolk Island</option>
            <option value="23">North Korea</option>
            <option value="215">Northern Mariana Islands</option>
            <option value="47">Norway</option>
            <option value="46">Oman</option>
            <option value="45">Pakistan</option>
            <option value="224">Palau</option>
            <option value="225">Palestinien occupe, territoire</option>
            <option value="44">Panama</option>
            <option value="43">Papua New Guinea</option>
            <option value="42">Paraguay</option>
            <option value="41">Peru</option>
            <option value="40">Philippines</option>
            <option value="226">Pitcairn Islands</option>
            <option value="39">Poland</option>
            <option value="38">Portugal</option>
            <option value="37">Puerto Rico</option>
            <option value="36">Qatar</option>
            <option value="173">Reunion</option>
            <option value="35">Romania</option>
            <option value="34">Russia</option>
            <option value="227">Rwanda</option>
            <option value="228">Sahara occidental</option>
            <option value="259">Saint-Barthélemy</option>
            <option value="253">Saint-Martin</option>
            <option value="234">Samoa</option>
            <option value="229">San Marino</option>
            <option value="236">Sao Tome and Principe</option>
            <option value="30">Saudi Arabia</option>
            <option value="29">Senegal</option>
            <option value="251">Serbia</option>
            <option value="237">Serbie et montenegro</option>
            <option value="238">Seychelles</option>
            <option value="28">Sierra Leone</option>
            <option value="27">Singapore</option>
            <option value="26">Slovakia</option>
            <option value="25">Slovenia</option>
            <option value="233">Solomon Islands</option>
            <option value="239">Somalia</option>
            <option value="24">South Africa</option>
            <option value="202">South Georgia and the South Sandwich Islands</option>
            <option value="81">South Korea</option>
            <option value="22">Spain</option>
            <option value="257">Spain Ballearic Islands</option>
            <option value="258">Spain Ceuta/Spain Melilla</option>
            <option value="21">Sri Lanka</option>
            <option value="232">St. Helena</option>
            <option value="33">St. Kitts and Nevis</option>
            <option value="32">St. Lucia</option>
            <option value="230">St. Pierre and Miquelon</option>
            <option value="31">St. Vincent and the Grenadines</option>
            <option value="20">Sudan</option>
            <option value="19">Suriname</option>
            <option value="240">Svalbard and Jan Mayen</option>
            <option value="18">Swaziland</option>
            <option value="17">Sweden</option>
            <option value="16">Switzerland</option>
            <option value="249">Syria</option>
            <option value="15">Taiwan</option>
            <option value="13">Tajikistan</option>
            <option value="14">Tanzania</option>
            <option value="12">Thailand</option>
            <option value="242">Timor-leste</option>
            <option value="179">Togo</option>
            <option value="243">Tokelau</option>
            <option value="244">Tonga</option>
            <option value="11">Trinidad and Tobago</option>
            <option value="10">Tunisia</option>
            <option value="9">Turkey</option>
            <option value="8">Turkmenistan</option>
            <option value="7">Turks and Caicos Islands</option>
            <option value="245">Tuvalu</option>
            <option value="6">Uganda</option>
            <option value="5">Ukraine</option>
            <option value="4">United Arab Emirates</option>
            <option value="3">United Kingdom</option>
            <option value="2" selected="selected">United States</option>
            <option value="206">United States Minor Outlying Islands</option>
            <option value="160">Uruguay</option>
            <option value="161">Uzbekistan</option>
            <option value="246">Vanuatu</option>
            <option value="231">Vatican City</option>
            <option value="162">Venezuela</option>
            <option value="163">Vietnam</option>
            <option value="207">Virgin Islands</option>
            <option value="137">Virgin Islands (British)</option>
            <option value="247">Wallis and Futuna</option>
            <option value="248">Yemen</option>
            <option value="166">Zambia</option>
            <option value="167">Zimbabwe</option>
    </select>
                        </span>
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Country_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your country is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  - // Only displayed when a specific country is chosen  
                  <div class="col-xs-12 col-sm-6 col-sm-offset-6 form-group" id="nxw_province_castor">
                    <div class="row">
                      <label for="Customer_Main_Province" class="col-xs-4 control-label">State<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8 state-" id="nxw_province">
                         <span class="branded-select">
<select name="Customer[Main][Province]" class="form-control" id="Customer_Main_Province" tabindex="2" onchange="validSelect(&#39;Customer_Main_Province&#39;);"><option value="none" selected="selected">Please select an option</option>    
          
<option value="1">Alabama</option><option value="2">Alaska</option><option value="3">Arizona</option><option value="4">Arkansas</option><option value="5">California</option><option value="6">Colorado</option><option value="7">Connecticut</option><option value="8">Delaware</option><option value="9">Florida</option><option value="10">Georgia</option><option value="11">Hawaii</option><option value="12">Idaho</option><option value="13">Illinois</option><option value="14">Indiana</option><option value="15">Iowa</option><option value="16">Kansas</option><option value="17">Kentucky</option><option value="18">Louisiana</option><option value="19">Maine</option><option value="20">Maryland</option><option value="21">Massachusetts</option><option value="22">Michigan</option><option value="23">Minnesota</option><option value="24">Mississippi</option><option value="25">Missouri</option><option value="26">Montana</option><option value="27">Nebraska</option><option value="28">Nevada</option><option value="29">New Hampshire</option><option value="30">New Jersey</option><option value="31">New Mexico</option><option value="32">New York</option><option value="33">North Carolina</option><option value="34">North Dakota</option><option value="35">Ohio</option><option value="36">Oklahoma</option><option value="37">Oregon</option><option value="38">Pennsylvania</option><option value="39">Rhode Island</option><option value="40">South Carolina</option><option value="41">South Dakota</option><option value="42">Tennessee</option><option value="43">Texas</option><option value="44">Utah</option><option value="45">Vermont</option><option value="46">Virginia</option><option value="47">Washington</option><option value="48">West Virginia</option><option value="49">Wisconsin</option><option value="50">Wyoming</option><option value="116">American Samoa</option><option value="117">District of Columbia</option><option value="118">Northern Mariana Islands</option><option value="119">Puerto Rico</option><option value="120">United States Minor Outlying Islands</option><option value="121">Virgin Islands, U.S.</option><option value="122">Guam</option><option value="123">Armed Forces Americas</option><option value="124">Armed Forces Europe,Middle East, &amp; Canada</option><option value="125">Armed Forces Pacific</option><option value="126">Federated States of Micronesia</option><option value="127">Marshall Islands</option><option value="128">Palau</option></select>
<script type="text/javascript">
        if (typeof ajxChangeCountryCustomer_Main_Country !== 'undefined' && $.isFunction(ajxChangeCountryCustomer_Main_Country)) {
            ajxChangeCountryCustomer_Main_Country();
        }
    </script>
                        </span>
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Province_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your stat is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <input type="hidden" id="Customer_Main_Phone" name="Customer[Main][Phone]" value="">
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Email" class="col-xs-4">Email<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Email" type="email" name="Customer[Main][Email]" class="form-control" value="" title="Email" onblur="return validField(this,&#39;email&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Email_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your email address is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Email2" class="col-xs-4">Confirm e-mail<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Email2" type="email" name="Customer[Main][Email2]" class="form-control" value="" title="Confirm e-mail" onblur="return validField(this,&#39;email2&#39;,&#39;Customer_Main_Email&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Email2_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your email and confirmation email addresses must be entered and match. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <input type="hidden" id="Customer_Main_Birthday" name="Customer[Main][Birthday]" value="">
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Password" class="col-xs-4">Password<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Password" type="password" name="Customer[Main][Password]" class="form-control" value="" title="Password" onblur="return validField(this,&#39;string&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Password_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>Your password is required. Please try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group">
                    <div class="row">
                      <label for="Customer_Main_Password2" class="col-xs-4">Confirm password<span class="asterisk">*</span> : </label>
                      <div class="col-xs-8">
                        <input id="Customer_Main_Password2" type="password" name="Customer[Main][Password2]" class="form-control" value="" title="Confirm password" onblur="return validField(this,&#39;password&#39;, &#39;Customer_Main_Password&#39;);">
                        <div class="alert alert-danger form_error alert-dismissible" id="Customer_Main_Password2_Error"><span class="glyphicon glyphicon-exclamation-sign"></span><span>The two passwords do not match. Please check and try again.</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 form-group li_hide">
                    <div class="row">
                       <input type="checkbox" name="Customer[Main][Accept_Email]" value="1" id="Customer_Main_Accept_Email" class="customer_main_accept_email" style="display: none;">
                       <input type="checkbox" name="Customer[Main][Accept_Sales_Conditions]" value="1" id="Customer_Main_Accept_Sales_Conditions" class="Customer_Main_Accept_Sales_Conditions" style="display: none;">
                   </div>
                  </div>
              </div>
            </form> -->















                   <!-- // IF client logged \ -->
            <div class="row logged-client custommer-info info-logger" style="display:block;">
              <h4><span class="glyphicon glyphicon-chevron-right"></span>Registered customer</h4>
              <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="client-infos">
                  <div class="row">
                    <span class="col-xs-12 col-sm-6 client-info client-name"> Test Emails</span>
                    <span class="col-xs-12 col-sm-6 client-info client-email"><span class="info-label">Email: </span>fakesolla@gmail.com</span>
                  </div>
                  <div class="row">
                    <div class="col-xs-12 col-sm-6 residence-address">
                      <label>Billing address</label>
                      <span class="client-info client-address">123 fakeland #111</span>
                      <span class="client-info client-town">91403 Sherman Oaks</span>
                         <span class="client-info client-state">California</span>
                         <!-- Province__ 5-->
                      <span class="client-info client-country">United States</span>
                    </div>
                    <div class="logged-buttons">
                      <a href="https://us-focushop.nexway.com/cart.html#" id="bt-modify-details" class="btn btn-sm btn-default" onclick="loginFormShowNoCreate();return false;"><span class="glyphicon glyphicon-edit"></span> Modify my Details</a>
                      <a href="." id="bt-logout" class="btn btn-sm btn-default"><span class="glyphicon glyphicon-log-out"></span> Logout</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        <!-- \ IF client logged // -->
          <!-- \ CLIENT INFOS // -->
        </div>
               <div class="row" id="payment-methods-block">
<script type="text/javascript">
//<![CDATA[
    // Update panels from selected method
    function updatePaymentsMethods() {
        var currentccType = $('input[name=cctype]:checked').val();
        $('.payment-content').hide();
        $('#cctype-payment-content-'+currentccType).show();
        $('#cctype-payment-content-'+currentccType).fadeIn();
        $('#directpayment_cc_type').val(currentccType);
        $('.cctype-payment div.radio').removeClass('checked');
        $('input[name=cctype]:checked').parent('div').addClass('checked');
        var aRes = $.directPayment.getObjects($.directPayment.getCcTypes(), 'key', currentccType);
        if ($(aRes).size() > 0) {
            $("#directpayment_cc_type").val(aRes[0].code);
        }else {
            $("#directpayment_cc_type").val('');
            var ccCardsType = $.directPayment.getCreditCardType();
            if (ccCardsType !=false){
                $("#directpayment_cc_type").val(ccCardsType);
            }
        }
    }
    //Initialisation
    $(document).ready(function(){
      $('#paymentForm .radio').bind('click', function() {
         var clickedId = $(this).attr('id');
         var vall = $('#'+clickedId+' input ').val();
          $('input[name=cctype][value='+this.id.substr(7)+']').attr('checked', 'checked');
          updatePaymentsMethods();
      });
    // Set public key
        $.directPayment.setGatewayId('directpayment').setAuthenticationToken("-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAx\/0DQY8Psq9L1QPkMevV\n11ATmluglwdmbOQl3nNg53zC5X8\/MDk6tvZWKu1Ss5\/PA6CdDeqXxqKaXaf9hvFp\nuzrpYUwzToPQQYKMAy75lzza89PS\/HJjoSsaZ3VDyyhOQV+SashuyWZ+oRhT5MH5\ndXFatayLbirgpzXKYC0Xpb8mJEd9bdvV8PlKFUcA+95s6lOLyuBW\/8681vVyXJvN\n9FEaH08qGx0L5haqqvnQ4yk5RWoaEu+kEEx\/l8FhChGLADCRKo2QR4YnxFinQ9aQ\ncu7iB0lHsJgnJEnLmeSCB2B5eIm0dIuViKl2C2J8Yfps+x3ez3IyY3ez2SHyX7Gx\nlQIDAQAB\n-----END PUBLIC KEY-----\n", "870b73b6-d7c7-4d0c-a07e-1215f9d01118");
        // Set Availables cctypes
        $.directPayment.setCcTypes({"express_checkout":{"name":"Paypal","id":"express_checkout","key":"express_checkout","role":"real_time_bank_transfer","isRecurring":1,"isEnabled":1,"code":"Paypal\/express_checkout"},"visa":{"name":"Visa","id":"900","key":"visa","role":"credit_card","isRecurring":1,"isEnabled":1,"code":"Adyen\/visa"},"mastercard":{"name":"MasterCard","id":"902","key":"mastercard","role":"credit_card","isRecurring":1,"isEnabled":1,"code":"Adyen\/mastercard"},"discover":{"name":"Discover","id":"960","key":"discover","role":"credit_card","isRecurring":1,"isEnabled":1,"code":"Adyen\/discover"},"amex":{"name":"American Express","id":"901","key":"amex","role":"credit_card","isRecurring":1,"isEnabled":1,"code":"Adyen\/amex"}});
        // Set form
        $.directPayment.setFormId('nexway-checkout-form');
        // Add click event on radio buttons
        $('.cctype-payment .radio').bind('click', function() {
        console.log('clic cctype payment');
            $(this).find('input[name="cctype"]').attr('checked', 'checked');
            updatePaymentsMethods();
        });
      $('.cctype-details-cards').bind('click', function() {
          $('.cctype-details-cards').removeClass('falseBox');
          $('input[name=cctype][value=credit_card]').attr('checked', 'checked');
          updatePaymentsMethods();
      });
        // Add keyup event on cc_numer field
        $('#directpayment_cc_number').bind('keyup', function(){
            if ($('#cctype-payment-content-cards').is(':visible')){
                $("#directpayment_cc_type").val('');
                var ccCardsType = $.directPayment.getCreditCardType();
                if (ccCardsType!=false){
                    $("#directpayment_cc_type").val(ccCardsType);
                }
            }
        });
        // Initialisation current payment method
        updatePaymentsMethods();
    $('#directpayment_cc_number').bind('keyup', function() {
        // Autodetection payment cards
        var aValidCcType = $.directPayment.validateCreditCard();
        if (aValidCcType.card_type == null){
            $(".cctype-details-cards li").removeClass("off");
            $("#card_number").removeClass("valid");
            $(".vertical.maestro").slideUp({
                duration: 200
            }).animate({
            opacity: 0
            },{
                queue: !1,
                duration: 200
            });
            return
        }
        $(".cctype-details-cards li").addClass("off");
        $(".cctype-details-cards ." + aValidCcType.card_type.name).removeClass("off");
        aValidCcType.card_type.name === "maestro" ? $(".vertical.maestro").slideDown({
            duration: 200
        }).animate({
            opacity: 1
        }, {
            queue: !1
        }) : $(".vertical.maestro").slideUp({
            duration: 200
        }).animate({
            opacity: 0
        }, {
            queue: !1,
            duration: 200
        });
    });
});
//]]>
</script>
<!-- // PAYMENT \\ -->
          <div class="row payment" id="paymentForm">
              <div class="payment_wrapper clearfix">
                <div class="col-xs-12 payment-method-title" style="display: block;">
                     <h3><span class="glyphicon glyphicon-lg glyphicon-credit-card"></span>Payment method</h3>
                </div>
                <!-- // Payment Method \\ -->
                <div class="col-xs-12 payment-method" style="display: block;">
                  <div class="row cclist cctype-payment" style="display: block;">
                    <div class="radio cctype-xsolla" id="cctype-xsolla">
                      <label for="cc-xsolla">Xsolla</label>
                      <input type="radio" name="cctype" id="cc-xsolla" value="xsolla">
                    </div>
                  </div>
                </div>
                <!-- \\ Payment Method // -->
                <div class="col-xs-12 payment-infos" style="display: block;">
                   <div class="col-xs-12 col-md-10 col-md-offset-1" id="paymentSection">
                   <form id="nexway-checkout-form" autocomplete="off" method="post" style="display: block;">
                      <input type="hidden" id="directpayment_cc_type" name="payment[cc_type]" value="">
                      <input type="hidden" name="disableDigitalGoods" value="1">
<!--_CCTYPE credit_card -->
       <!-- // Credit Card Infos  -->


<div class="cc-cb  payment-content" id="cctype-payment-content-credit_card" style="display: block;">
    <h4>Credit card details</h4>
        <div class="row">
         <div class="col-xs-12">
            <ul class="cctype-details-cards">
        <li class="visa">Visa</li>
        <li class="mastercard">MasterCard</li>
        <li class="amex">Amex</li>
        <li class="jcb">Jcb</li>
        <li class="discover">Discover</li>
            </ul>
          </div>
          </div>
    <div class="alert alert-danger  alert-dismissible cctype-credit_card-formvalidation-error" role="alert" id="cctype-credit_card-formvalidation-error" style="display:none;">
        <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span><span class="sr-only">X</span></button>
        <p>All mandatory fields must be filled in correctly. Please review and try again.</p>
    </div>
    <div class="row payment-cb">
        <div class="col-xs-12 form-group">
            <label for="directpayment_cc_number" class="col-sm-4">Card number<span class="asterisk">*</span></label>
            <div class="col-sm-8">
                <input id="directpayment_cc_number" class="form-control" type="text" autocomplete="off" maxlength="16" name="payment[cc_number]" value="" tabindex="34" title="">
                <div class="" id=""><span class=""></span><span></span></div>
            </div>
        </div>
    </div>
    <div class="row">
          <div class="col-xs-12 form-group">
            <label class="col-sm-4">Card expiration date<span class="asterisk">*</span></label>
            <div class="col-sm-8">
                <span class="branded-select multi-select">
                <select class="cctype-field-name-month form-control" id="directpayment_cc_exp_month" name="payment[cc_exp_month]" tabindex="35" required="required">
                    <option value="MM">MM</option>
                        <option value="1">01</option>
                        <option value="2">02</option>
                        <option value="3">03</option>
                        <option value="4">04</option>
                        <option value="5">05</option>
                        <option value="6">06</option>
                        <option value="7">07</option>
                        <option value="8">08</option>
                        <option value="9">09</option>
                        <option value="10" selected="selected">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                </select>
                </span>
                <span> / </span>
                 <span class="branded-select multi-select">
                <select class="cctype-field-name-year form-control" id="directpayment_cc_exp_year" name="payment[cc_exp_year]" tabindex="36" required="required">
                    <option value="YYYY">YYYY</option>
                        <option value="2017" selected="selected">2017</option>
                        <option value="2018">2018</option>
                        <option value="2019">2019</option>
                        <option value="2020">2020</option>
                        <option value="2021">2021</option>
                        <option value="2022">2022</option>
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                </select>
                </span>
                <div class="" id=""><span class=""></span><span></span></div>
            </div>
        </div>
        <div class="col-xs-12 form-group">
            <label for="directpayment_cc_cid" class="col-sm-4">Card security code<span class="asterisk">*</span></label>
            <div class="col-sm-8">
                <input id="directpayment_cc_cid" type="text" class="form-control cctype-field-cvv" autocomplete="off" name="payment[cc_cid]" tabindex="37" required="required" title="" maxlength="4">
                <span class="infobulle payment paymentccv">
                    <span class="glyphicon glyphicon-info-sign paymentccv" aria-hidden="true"></span>
                    <span class="note paymentccv">Visa, MasterCard, Discover Network Card Holders: Last 3 digits on the signature panel on the back of the card.<br>
 American Express Card Holders: The 4 digit number in small print on the face of the card.</span>
                </span>
                <div class="" id=""><span class=""></span><span></span></div>
            </div>
        </div>
    </div>
</div>




<!--  Credit Card Infos // -->
<!--_CCTYPE express_checkout -->
        <!-- // PAYPAL Infos \\ -->
              <div class="cc-paypal payment-content" id="cctype-payment-content-express_checkout" style="display: none;">
                <p class="payment-intro">Thank you for choosing PayPal</p>
                <p class="payment-note">After confirmation of your order, your transaction will be completed on the secure website of Paypal.</p>
              </div>
 <!-- \\ PAYPAL Infos // -->

        <!-- // Xsolla Infos \\ -->
              <div class="cc-xsolla payment-content" id="cctype-payment-content-xsolla" style="display: none;">
                <p class="payment-intro">Thank you for choosing Xsolla</p>
                <p class="payment-note">Please confirm your order to complete your payment</p>
              </div>
 <!-- \\ Xsolla Infos // -->
                     </form>
                   </div>
                </div>
            </div>
            <div class="col-xs-12 cart-validation">
                <div class="checkbox">
                   <input type="checkbox" id="Customer_Main_Accept_Email_Display" class="Customer_Main_Accept_Email_Display cgv-confirm" name="Customer[Main][Accept_Email][Display]" value="1">
                   <label for="Customer_Main_Accept_Email_Display" id="Customer_Main_Accept_Email_Display_Label"> Please send me exclusive FOCUS offers by email. </label>
                </div>
                <div class="checkbox ">
                    <input type="checkbox" name="accept" id="Customer_Main_Accept_Sales_Conditions_Display" class="Customer_Main_Accept_Sales_Conditions_Display cgv-confirm">
                    <label for="Customer_Main_Accept_Sales_Conditions_Display" class="Customer_Main_Accept_Sales_Conditions_Display_Label"> I have read and I accept the <a class="underline" data-toggle="modal" data-target="#terms_conditions">Terms and Conditions</a>.</label>
                    <!-- Modal -->
                    <div class="modal fade" id="terms_conditions" tabindex="-1" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                          </div>
                          <div class="modal-body">
         <div class="row" id="cgv">
            <div class="col-xs-12">
               <h3>Terms and Conditions</h3>
                        <!-- _NEXWAY_BILLING_COMPANY ->USA--><!--USA-->
  <!-- _CONF_BILLING_COMPANY -> USA -> _SUBSIDIARY_INVOICE -> USA _TPL_LANGUAGE -> en_US  ADRESSE ->  -->
<div class="row cgv_page" id="cgv_page">
    <!--cgvstorepartner_dl_boite-->
    <div class="cgv_content col-xs-12">
        <div class="cgv_content_top"></div>
        <div class="cgv_content_middel">
            <!-- _CONF_CGV_TYPE   _VAR_BILLING_COMPANY -> USA -->
<!-- PARTNER USA -->
<p><strong>Nexway Inc. operates the FOCUS digital product shopping cart.<br>These General Business Terms (GBT) govern the contractual relationship between Nexway and the customer.</strong></p>
<p>By ordering products the Customer confirms to have duly noted and agreed to the General Business Terms.<br>
 The parties to the contract are:</p>
<ul>
    <li><strong>Customer</strong> ("Customer, you"): any person who orders products from the FOCUS.</li>
    <li><strong>Nexway Inc.</strong>, a Delaware company with offices located at 236, 8th street – San Francisco, CA 94103, Suite C. – USA ("Nexway", "us" "we")</li>
</ul>
<p> The Customer's product order is a binding offer to Nexway to purchase such products. A confirmation message will be displayed and a confirmation email will be sent to the Customer as soon as an order is placed. Such automatic confirmation shall not constitute an acceptance by Nexway of the Customer's order. Nexway's acceptance of the Customer's order shall occur and a contract shall come into existence only when Nexway makes the products available to the Customer via download.</p>
<p>Please check the automatic order confirmation for errors and inform us immediately of any discrepancies. You guarantee that the data you provided during registration is true, accurate, up-to-date and complete.<br>Orders will only be accepted from Customers who are 18 years of age or older.</p>
<br>
<h4>Type of service and limitations</h4>
<p>Products are delivered to the Customer via download.</p>
<p>You will receive an order confirmation by email. When you have ordered a downloadable product, you will obtain access to the product download, which is valid for 21 days from the purchase date. Once this delay has elapsed the download will no longer be available.</p>
<br>
<h4>Conditions to use the download service</h4>
<p>Customer must comply with the system requirements specified on the FOCUS. The Customer's computer needs to be connected to the Internet via a broadband connection (e.g. DSL).</p>
<br>
<h4>Product License</h4>
<p>Under the terms of these General Business Terms the limited and non-exclusive right to use one (1) copy of products delivered to the Customer by Nexway on a computer or laptop is granted to the Customer. Under the terms of this contract the Customer is not permitted to copy, modify, or decompile any software in a product, to extract its source code, create any item derived from it or remove any indication of the name or manufacturer of the software from it. The user is exclusively permitted to use the product for their own personal use and may not pass it on, sell, transfer or lend it to a third party.</p>
<br>
<h4>Subscription</h4>
<p>By purchasing a product in subscription you agree that your subscription may automatically be renewed for the same period (1 month or 1 year) and at the same price (plus applicable taxes) as your initial purchase. Renewals will occur on your purchase anniversary dates on a monthly or yearly basis (depending on your initial purchase plan). These principle applies by default, except for special promotions during the initial purchase, for which renewal price or renewal period may change. Any such changes will be clearly advertised during your initial purchase.</p>
<p>You will be billed using the payment information you provided for your initial purchase, until you cancel your subsription in « My Account » section.</p>
<p>If you have purchased a yearly plan, you will receive at least one email to remind you of each upcoming renewal before Nexway SAS renews your subscription. You must ensure that Nexway has a current email address on file in order to send you emails, and that the nexway.com domain is not blocked by your spam filtering software.</p>
<p>Until you cancel subscription, you expressly authorize and permit Nexway SAS to bill each subscription renewal fee through your selected payment method.</p><br>
<h4>Customer's duties and obligations</h4>
<dl>
    <dt>Type of use</dt>
    <dd>Users are authorized to make use of the service for his sole personal use. Using FOCUS services without further permission for professional, commercial or promotional purposes is prohibited. Nexway cannot be held in any way responsible if the service is used in a way which does not conform to these terms and conditions.</dd>
    <br>
    <dt>Personal data / User account</dt>
    <dd>The Customer is solely responsible for the use of membership data (LOGIN, password) and is liable for the data transferred with their LOGIN and password.<br>The Customer shall not share or divulge LOGIN or password to any other person.<br>In the event of personal access data being passed on or used in contravention of these General Business Terms (e.g. simultaneous access to the service by two different PCs with the same LOGIN and password), Nexway reserves the right to suspend access to the service for the Customer affected without liability for an initial period of one (1) month. Nexway may continue the suspension of the account until a full investigation has been carried out. After this investigation Nexway will at its discretion determine a reasonable way of proceeding further.<br>In the event of repeated infringement of the General Business Terms, Nexway reserves the right to terminate access to the service and thereby its contract with the Customer, in which case Nexway shall have no liability to the Customer.<br><strong>If access data (LOGIN or password) are lost or stolen, the Customer will inform the Customer Support promptly through <a target="_blank" href="https://us-focushop.nexway.com/contact.html">this contact form</a></strong></dd>
    <br>
    <dt>Damage to reputation and manipulation</dt>
    <dd>The Customer agrees not to perform any act which may damage or cause a loss or nuisance to FOCUS, Nexway and/or any other party associated with Nexway.</dd>
</dl>
<br>
<h4>Copyright</h4>
<p>All software, games, information, names, trade names, product brands, inventions and in general all business content used in the products or in the FOCUS digital product shopping cart remain the exclusive property of their owners in accordance with the copyright. These are explicitly the software or games manufacturers, music publishers and all associated copyright owners. All programs and related software, games and music are subject to licenses granted by their owners and are not owned by Nexway. Under the terms of such licenses, Customers are not permitted to copy, photocopy, reproduce or translate the products, extract their source code, modify, dismantle or decompile them or create related products inspired by programs, games, services or functions. No name or identification belonging to the owner may be removed without prior written permission.</p>
<p>In addition to the right of use for private and non-commercial purposes, Customers are not permitted to do the following:</p>
<ul>
    <li>Sell, lend, pass on or transfer copies of the products,</li>
    <li>Use products or any element of them on public platforms (in particular internet cafes and video amusement arcades)</li>
    <li>Host or offer to third parties music, programs, games, services or multiplayer functions for any online or offline usage without prior written permission</li>
    <li>The Customer confirms that they have understood the restrictions set out above and that they will comply with these. Disregarding these guidelines may lead to the suspension or termination of the Customer's account. The Customer understands that Nexway will not be liable for any infringement by a Customer of the restrictions set out above.</li>
    <li>Anyone illegally duplicating, disseminating or publicly reproducing products or assisting in doing so is liable to criminal proceedings. Illegal duplication of products is punishable by imprisonment and/or a fine. Illegally copied data supports may be confiscated and destroyed. Nexway further expressly reserves the right on behalf of itself and the copyright owners to pursue claims for damages under civil law.</li>
</ul>
<br>
<h4>Prices and delivery charge</h4>
<p>The prices for products shall be as listed in the respective current price schedules or online advertisements contained in the FOCUS website. Payment must be made before the Customer may download a product.</p>
<p>Technical details in respect of online payment transactions:</p>
<ul>
    <li>SSL (Secure Sockets Layer) encryption technology encodes the information during transfer.</li>
    <li>The existing encryption functions of the internet browser will be used.</li>
    <li>Nexway does not have access to private Customer data including bank account or credit history.</li>
    <li>To prevent of misuse and fraud, Nexway only stores the Customer's address and the transaction time and date. These data remain confidential and might be used in the following cases.</li>
    <li>Any attempted fraud or deception, regardless of scope, will immediately lead to further action, as part of which all related transaction data might be forwarded to the authorities.</li>
    <li>After a successful transaction, the purchased product is made available to the Customer via download. If the transaction is not successfully completed, Nexway reserves the right to block the user account and until the cause has been determined.</li>
</ul>
<br>
<h4>Liability for defects</h4>
<p>Nexway warrants that all products sold are subject to the General Business Terms. Products have been tested and will function within the parameters for which they were created and as described on the website. However, Nexway does not guarantee that software products meet the expectations of the Customer and that the software will run without defects under all circumstances. Neither does Nexway provide any guarantee of specific functions and results of the software; provided that this is within its intended design parameters and exceeds the current minimum standard for software technology at the time the program is created. The same applies to the correctness or completeness of any documentation enclosed with the software.</p>
<p>Should the product be defective on delivery, making the intended use impossible, Nexway will either replace the product or refund the purchase price to the Customer at its own discretion within the statutory period from the date of purchase. This only applies to products which are obtained directly from Nexway online. Nexway makes no warranty or guarantee of products downloaded by the Customer from a source other than the Nexway website. The Customer needs to send full details of the defective product and the nature of the defect to Nexway's Customer service e-mail address mentioned above. Nexway accepts no further liability for direct or indirect damage occurring due to the use of a product, provided that this damage is not the result of Nexway's willful intent or severe negligence and provided that liability may in law be excluded. Nexway is under no circumstances liable for unforeseeable damage or indirect or consequential loss of any kind.</p>
<p>Nexway accepts no liability for damage occurring due to incorrect handling, in particular failure to observe any operating instructions, faulty commissioning, faulty handling or unsuitable accessories.</p>
<p>If in the sole opinion of Nexway it is economically unreasonable for Nexway to remedy a defect, a replacement product will be supplied or a refund issued.</p>
<br>
<h4>Nexway's right to terminate</h4>
<p>In the event of substantial or repeated infringement by the Customer of these General Business Terms, Nexway may terminate all contracts and licenses made with the Customer under these General Business terms with immediate effect. If any contract or license is terminated, regardless of the grounds, all licenses granted are deemed to be terminated forthwith without compensation and the Customer shall immediately cease to use all relevant products.</p>
<br>
<h4>Customer's right to cancel</h4>
<dl>
    <dt>Right of cancellation</dt>
    <dd>Customer shall have the right to cancel any order within a period of 14 working days after the purchase date. If the Customer wishes to cancel an order, the Customer shall contact Customer Support through <a target="_blank" href="https://us-focushop.nexway.com/contact.html">this contact form</a>, supplying order details and explaining the reason for his request.</dd>
    <br>
    <dt>Consequences of cancellation</dt>
    <dd>In the event of effective cancellation by the Customer, Nexway shall refund any payment made for the products under the cancelled order. The Customer's right to use the relevant product(s) shall terminate immediately upon order cancellation. The Customer must delete or destroy the products and all copies from the Customer's computer and any other device or media to which the Customer has copied the products.</dd>
</dl>
<br>
<h4> <a name="ART_11" id="ART_11" class="redirect_lower"></a>Data protection/cookies </h4>
<p>Nexway uses the Customer's personal data exclusively for the purpose of handling the order. All Customer data will be stored and processed only in compliance with the relevant regulations of the relevant data protection laws.</p>
<p>Customers have the right to review, correct, block and delete their stored data free of charge at any time. Nexway will not share personal data including home address and email address with any third party without the express consent of the Customer, which may be revoked at any time. Nexway's service partners who require the transfer of data for the purposes of handling the order (e.g. the carrier contracted to make delivery and the credit institution contracted to handle payment) are excluded from this provision. In these cases the scope of data transferred is, however, limited to the necessary minimum. Nexway has implemented technical features and organizational security measures to protect Customer data handled against accidental or deliberate changes, loss or destruction and against access by unauthorized persons.</p>
<p>Credit card information is encoded by 128 Bit SSL (Secure Socket Layer) and transferred to a payment gateway which is directly connected to the credit card processing service. Data is verified online, payment is processed before the goods are delivered (cash in advance).</p>
<p>The FOCUS website uses cookies to store and retrieve Customer information. Information about the Customer, user names and the national currency selected are stored in the cookies which can then be used when the Customer's returns.</p>
<p>When a Customer registers with Nexway or wishes to place an order, Nexway requires Customer data. Returning FOCUS Customers simply log on with his user name and personal password. The data stored in a cookie makes it unnecessary to complete some of the forms and assists in error-free navigation. The cookies will expire after 5 years. Customers may manage the acceptance of cookies by changing the privacy settings in their Internet browser application and block them if they wish.</p>
<br>
<h4>Governing Law and Jurisdiction</h4>
<p>These General Business Terms and related policies and agreements shall be governed by and interpreted in accordance with California law. Anyone accessing the FOCUS website from outside the United States is personally responsible for observing local laws if and to the extent that they are applicable to the products or the Customer's use of them.</p>
<br>
<h4>Saving clause</h4>
<p>Should any part of these General Business Term be deemed unenforceable by a court competent to deal with disputes under them, the operability of the other parts is not thereby affected. Any part deemed unenforceable shall if possible be deemed amended in so far only as to make it enforceable.</p>
<br>
<h4>Whole agreement</h4>
<p> These General Business Terms are the basis for and contain all the legal agreements between the parties relative to the object of their contract and operate to the exclusion of all other verbal or written agreements.<br>This clause is not intended to limit Nexway's liability for fraudulent misrepresentation.</p>
<br>
<h4>Miscellaneous</h4>
<p>YOU, THE CUSTOMER DECLARE THAT YOU HAVE READ AND UNDERSTOOD THESE GENERAL BUSINESS TERMS AND UNDERTAKE TO COMPLY WITH THEM. IF YOU HAVE ANY QUERIES, SUGGESTIONS OR COMMENTS, PLEASE CONTACT US THROUGH THE CONTACT FORM MENTIONED IN THESE GENERAL BUSINESS TERMS.<br>
 THANK YOU FOR YOUR CONFIDENCE.</p>
        </div>
        <div class="cgv_content_bottom"></div>
    </div>
</div>
            </div>
          </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              <!-- <a href="" id="buy-xsolla" class="btn btn-lg btn-default pull-right" onclick="return initXsolla();return false;"><span class="glyphicon glyphicon-check"></span>Confirm Your Order</a> -->

              <a id="buy-xsolla" class="btn btn-lg btn-default pull-right"><span class="glyphicon glyphicon-check"></span>Confirm Your Order</a>
            </div>
            <!-- \\ Checkout Validation // -->
          </div><!-- \\ PAYMENT // -->
               </div>
</div>
<!-- body_content_off -->

<script>        
         var options = {
            access_token: 'd2ogl7CpXBVjeZPoc3xRaI1IcoaiTfgt',
              host: 'sandbox-secure.xsolla.com',
              target_element: "#buy-xsolla",
              sandbox:true,
              lightbox:{
                  height: '660px'
              }
          };

          var s = document.createElement('script');
          s.type = "text/javascript";
          s.async = true;
          s.src = "//static.xsolla.com/embed/paystation/1.0.7/widget.min.js";
          s.addEventListener('load', function (e) {
              document.getElementById('buy-xsolla').addEventListener('click',function(e){
                  XPayStationWidget.init(options);
                  XPayStationWidget.open();
              });
          }, false); 
          var head = document.getElementsByTagName('head')[0];
          head.appendChild(s);

</script> 

     </div>
        <!-- body_footer_off -->
      <div class="container mainfooter">
        <div class="partner-footer">
           <p class="copyrights">© 2017 Focus Home Interactive - All rights reserved.</p>
        </div>
        <div class="nxw-links">
          <ul class="col-xs-12">
            <li><a href="https://us-focushop.nexway.com/cgv.html">Terms &amp; Conditions</a></li>
            <li><a href="https://us-focushop.nexway.com/cgv.html#ART_11">Privacy Policy</a></li>
            <li><a href="https://us-focushop.nexway.com/contact.html">Support</a></li>
          </ul>
        </div>
      </div>
    <!-- site_cart_off -->
<script src="./Focus_Vampyr_files/jquery-ui.js"></script>
<!-- opc footer include -->
<script type="text/javascript">
var isShipping = false;
// js_action_cart
// Cookie functions
function createCookie(name,value,days){
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}
function readCookie(name){
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++){
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}
function eraseCookie(name) {
    createCookie(name,"",-1);
}
// end Cookie functions
//loader right top
function cartLoadindAtion() {
    $('.cart-loading img').show(0);
    $('.cart-loading img').delay(3000);
    $('.cart-loading img').hide(0);
}
//end loader right top function
// updateshipping
function updateshipping() {
    var Mainshipping = $('#MainShipping').val();
    var act = 'edit';
    var Customer_main = 1;
    var form_submit   = 1;
    var dataTosend    = 'action=edit&Customer[Main]=1&form_submit=1&Customer[Main][Shipping]='+Mainshipping;
    $.ajax({
        url: "/ajax_cart.html?action=updateshipping",
        type: "POST",
        cache: false,
        data: dataTosend,
        success: function(data) {}
    });
}
// end updateshipping
$('#Customer_Main_Type').change(function() {
    var _v = $(this).val();
    loadCartCountry(_v);
});
//  load_mini_cart
function load_mini_cart() {
    $.ajax({
        url: "/ajax_cart.html?action=load-mini-cart",
        type: "GET",
        cache: false,
        error: function(data) {},
        success: function(data) {
            if (data == '0') { return window.location.href = "/home.html";}
            if ((data != '')||(data != false)) $('.cart_nbitems').html(data);
        }
    });
}
//  loadCartShipping
function loadCartShipping() {
     $.ajax({
        url: "/ajax_cart.html?action=load-cart-shipping",
        type: "GET",
        cache: false,
        error: function(data) {},
        success: function(data) {
            if ((data !='')||(data !=false)) $('#shippin').html(data);
        }
    });
}
//  end loadCartShipping
//   loadCartBlockCustomerInfo
function loadCartBlockCustomerInfo() {
    $.ajax({
        url: "/ajax_cart.html?action=load-cart-customer-info-block",
        type: "GET",
        cache: false,
        error: function(data) {},
        success: function(data) { $('.loading-custommer-info').html(data);}
    });
}
//  end loadCartBlockCustomerInfo
//  loadCartBlock
function loadCartBlock() {
    var randnum = Math.floor(Math.random()*1001);
    var usertype = $('#Customer_Main_Type option:selected').val();
     $.ajax({
        url: "/ajax_cart.html?action=load-cart-block&UserType="+usertype+"&random="+randnum,
        type: "GET",
        cache: false,
        error: function(data) {},
        success: function(data) {
            cartLoadindAtion();
            if (isShipping==true) {
                //loadCartShipping();
                //ajxChangeShipping();
            };
            console.log('loadCartBlock');
            load_mini_cart();
            //loadCartBlockCustomerInfo();
            $('#load-cart').html(data);
            $('.hideselect').css({'display':'block'});
            setTimeout(function() {
               //var updTotalShip = $('#cart-sub-total').text();
              // var updTva = $('#st-tva').text();
              // $('#t-cart-sub-total').html(updTotalShip);
              // $('#st-tva').html(updTva);
            ;},2000);
            hideShippingForm();
        }
      });
}
//  end loadCartBlock
// loadCartCountry - get cart block with proper country, also update HT <> TTC prices depend on typeuser
function loadCartCountry(userType) {
    var countryId = $('#Customer_Main_Country').val();
    var randnum = Math.floor(Math.random()*1001);
    var usertype = $('#Customer_Main_Type option:selected').val();
    if (userType !== undefined) {
        usertype = userType;
    }
     $.ajax({
        url: '/ajax_cart.html?action=load-cart-country&Pays_Client=' + countryId + '&UserType='+usertype+'&Update_Vat=true&random=' + randnum,
        type: "GET",
        cache: false,
        error: function(data) {
        },
        success: function(data) {
            cartLoadindAtion();
            load_mini_cart();
            $('#load-cart').html(data);
            $('.hideselect').css({'display':'block'});
            hideShippingForm();
        }
      });
}
//  end loadCartCountry
//  loadCartJson
function loadCartJson() {
     $.ajax({
        url: "/ajax_cart.html?action=load-cart-json",
        type: "GET",
        cache: false,
        error: function(data) { return data;},
        success: function(data) { return data;}
    });
}
// end loadCartJson
//  ajaxAction
function ajaxAction() {
    var dataTosend = $(this).parents('form').serializeArray();
    var usertype = $('#Customer_Main_Type option:selected').val();
    //console.log(dataTosend);
    $.ajax({
        url: "/ajax_cart.html?action=load-cart-block&UserType="+usertype,
        type: "POST",
        cache: false,
        data: dataTosend,
        success: function(data) { loadCartBlock();}
  });
}
// end ajaxAction
// add or remove auto-renewal in cart
function toggleRenewal(currentRef, newRef, qty){
    var usertype = $('#Customer_Main_Type option:selected').val();
    $.ajax({
        url: "/ajax_cart.html?action=load-cart-block&UserType="+usertype+"&MR[]="+currentRef+"+0&MR[]="+newRef+"+"+qty,
        type: "GET",
        cache: false,
        error: function(data) {},
        success: function(data) { loadCartBlock();}
    });
}
//
//  cartGetAction
function cartGetAction() {
    var _add_to_cart_url = $(this).attr('href');
    $.ajax({
        url: _add_to_cart_url,
        type: "GET",
        cache: false,
        data: "action=add_to_cart",
        error: function(data) {},
        success: function(data) { loadCartBlock();}
    });
}
// end cartGetAction
// closeModal
function closeModal(modal) {
    $(modal).hide();
}
// end closeModal
//add_ext_to_cart
function add_ext_to_cart() {
    var formData = $('#formextdl').serializeArray();
    var actionUrl = $('#formextdl').attr('action');
    $.ajax({
        url: actionUrl,
        type: 'GET',
        cache: false,
        data:formData,
        success: function(data) { loadCartBlock();}
    });
}
function add_backup_dvd_to_cart() {
    var formData = $('#formebackupmedia').serializeArray();
    var actionUrl = $('#formebackupmedia').attr('action');
    $.ajax({
        url: actionUrl,
        type: 'GET',
        cache: false,
        data:formData,
        success: function(data) { loadCartBlock();}
    });
}
// end add_ext_to_cart
// add_backup_to_cart
function add_backup_to_cart(myform,mod) {
    var mod_send ='POST';
    if (mod==1) mod_send ='POST';
    else mod_send ='GET';
    var actionUrl = $('#'+formebackupmedia).attr('action');
    var formData = $('#'+myform).serializeArray();
    var randnum = Math.floor(Math.random()*1001);
    $.ajax({
        url: actionUrl,
        type: mod_send,
        cache: false,
        success: function(data) { loadCartBlock();}
    });
}
// end add_backup_to_cart
//  handleChangeQty
function handleChangeQty(button, form) {
    //if (button.getAttribute('triggered')) return false;
    form = document.getElementById(form);
    var fl = form.elements['Q'];
    var flVal = form.elements['Q'].value;
    if (button.className === 'plus-button') {
        fl.value++;
        flVal = fl.value++;
        button.setAttribute('triggered','true');
    } else if (button.className === 'minus-button') { /** Decrement **/
        if (fl.value <= 1) return;
        fl.value--;
        flVal = fl.value--;
        button.setAttribute('triggered','true');
    } else if (button.id == "quantity1") {  /** if user enters manually 0 value, avoid redirection, set it to 1 **/
        if (fl.value <= 0) flVal = 1;
    }
    /** Then submit **/
    fl.value = flVal;
    var dataQty = $(form).serializeArray();
    var randnum = Math.floor(Math.random()*1001);
    $.ajax({
        url: "/ajax_cart.html?random="+randnum,
        type: "POST",
        cache: false,
        data: dataQty,
        success: function(data) {
            loadCartCountry();
            return false;
        }
    });
    return false;
}
// end handleChangeQty
//replaceItemInCaddy
function replaceItemInCaddy(oldRef, newRef, quantity) {
    var position = arguments[3];
    var vCartrow = arguments[4];
    var vFloor = arguments[5];
    if (position) updateProduct('MR[]=' + oldRef + '+0&MR[]=' + newRef + '+' + quantity + '+' + position + '&cr=' + vCartrow + '&' + vFloor);
    else updateProduct('MR[]=' + oldRef + '+0&MR[]=' + newRef + '+' + quantity + '&cr=' + vCartrow + '&' + vFloorU);
}
// endreplaceItemInCaddy
// show or hide payment method in relation to cart total
function displayPaymentMethod(pm, minTh, maxTh){
    $('#cctype-'+pm).hide();
    //$('#cctype-payment-content-'+pm).hide();
    var regex = /[0-9]+(\.|\,)*[0-9]*/g;
    var cartTotal = $('.cart-price-total').html();
    var cartTotalInt = cartTotal.replace(",", ".");
    var result = cartTotalInt.match(regex);
    if ((result[0] >= minTh || !minTh) && (result[0] <= maxTh || !maxTh) ){
        $('#cctype-'+pm).show();
    }
}
// update product
function updateProduct(Ref) {
    $.ajax({
        url: '/ajax_cart.html?'+Ref,
        type: "GET",
        cache: false,
        success: function(data) {
            loadCartCountry();
        }
    });
    return false;
}
// end update product
// modalUpgrade
function modalUpgrade(actionUrl) {
    // location.href ='cart.html?'+actionUrl;
    $.ajax({
        type: 'GET',
        cache: false,
        data: actionUrl,
        url: "/ajax_cart.html?"+actionUrl,
        success: function(data) {
           //$('#modal-upsell').hide();
           //$('.modal-backdrop').hide();
            //location.href ='cart.html';
            loadCartBlock();
        }
    });
    return false;
}
// end modalUpgrade
// add_to_cart
function add_to_cart(Ref) {
    $.ajax({
        url:'/ajax_cart.html?',
        type: "GET",
        cache: false,
        data: ({REF : Ref}),
        success: function(data) { loadCartBlock();}
    });
    return false;
}
// end add_to_cart
// del_to_cart
function del_to_cart(Ref, box_to_hide) {
    $.ajax({
        url: '/ajax_cart.html?'+Ref,
        type: "GET",
        cache: false,
        success: function(data) {
            $(box_to_hide).toggle("slow");
            if ($('.cart-item').length === 1) {
                location.href='cart.html';
                return;
            }
            loadCartCountry();
            loadPayment();
            return false;
        }
    });
    return false;
}
// end del_to_cart
// load payment
function loadPayment() {
    $.ajax({
        url: '/ajax_cart.html?action=load-payment',
        type: "GET",
        cache: false,
        success: function(data) {
            console.log('ajax payment: ' + data);
            $('#payment-methods-block').html(data);
            return false;
        }
    });
    return false;
}
// end load payment
// eec vat validator
function eecVatValidator() {
    var $fullVatField   = $('.js-vat-full'),
        $vatNumberField = $('.js-vat-number'),
        $vatErorMessage = $('#Customer_Main_Company_EEC_VAT_NUMBER_Error'),
        $country = $('#Customer_Main_Country');
    if (!$vatNumberField.val()) {
        $vatNumberField.removeClass('invalid-field');
        $vatNumberField.removeClass('checking-eec');
        validField('Customer_Main_Company_EEC_VAT_NUMBER', 'eecNumber');
        return;
    }
    $.ajax({
        url: 'ajax_eec.html?vatnumber=' + $fullVatField.val() + '&country=' + $country.val(),
        type: "GET",
        cache: false,
        success: function(data) {
            var aDatas = $.parseJSON(data);
            if (aDatas.IsValidVATNumber == true) {
                $vatNumberField.removeClass('invalid-field');
                var userType = 2;
                loadCartCountry(userType);
            } else {
                $vatNumberField.addClass('invalid-field');
                $vatErorMessage.children('span').eq(1).html(aDatas.vatMessage + "<p class=\"total-ttc-infos\"> Total price updated by adding VAT: $&shy;44.99</p>");
                var userType = 1;
                loadCartCountry(userType);
            }
            $vatNumberField.addClass('checking-eec');
            validField('Customer_Main_Company_EEC_VAT_NUMBER', 'eecNumber');
            return false;
        }
    });
    return false;
}
// end eec vat validator
// valide_code
function valide_code() {
    var frm = $('#CADDIEPROMO');
    var code_tfr = $('#CADDIEPROMO #Code_TFR').val();
    if (code_tfr != "") {
        $.ajax({
            url: '/ajax_cart.html?action=load-code-promo-block',
            type: "POST",
            cache: false,
            data: {Code_TFR:code_tfr},
            success: function(data) {
               $('.coupon-wrap').html(data);
               setTimeout(function() { location.href='cart.html';},3000);
               $(".coupon-wrap").attr("tabindex",-1).focus();
               $(".coupon-wrap").attr("tabindex","");
            }
        });
        return false;
    } else {
        alert("A discount code is required. Please try again.");
        $('#Code_TFR').focus();
        return false;
    }
}
// end valide_code
// delete_code_promo
function delete_code_promo() {
    var frm = $('#CADDIEPROMO');
    var code_tfr = $('#CADDIEPROMO #Code_TFR').val();
    if(code_tfr != "") {
        //frm.submit();
        $.ajax({
            url: '/ajax_cart.html?action=load-code-promo-block',
            type: "POST",
            cache: false,
            data: {Code_TFR:code_tfr},
            success: function(data) {
               $('.coupon-wrap').html(data);
               setTimeout(function() { loadCartBlock();}, 500);
            }
        });
        return false;
    } else {
        $('#Code_TFR').focus();
        return false;
    }
}
// end delete_code_promo
// cart_shipping_costs_login
function getAjaxVatDL(countryId) {
    $.ajax({
        type: 'GET',
        cache: false,
        url: '/ajax_vat.html?action=getVatDL&Pays_Client='+countryId+'&Update_Vat=true',
        success: function(data) {
           console.log(data);
           var aDatas = $.parseJSON(data);
           $('.cart-price-total').html(aDatas.total);
           $('.taxes-included-value').html(aDatas.vat_price);
           $('.cart-total-hidden').html(aDatas.total);
            $('.cart-item').each(function(key) {
               $(this).find('.item-price-current').html(aDatas.unitPrice[key]);
           });
        }
    });
}
function getAjaxVat(shippingId,countryId,Province_Client,Zip_Client) {
    $.ajax({
       type: 'GET',
       cache: false,
       url: '/ajax_shipping.html?action=getPrice&id=' + shippingId + '&Country=' + countryId+'&Pays_Client='+countryId+'&Province_Client='+Province_Client+'&Zip_Client='+Zip_Client+'&Update_Vat=true',
       success: function(data) {
           var aDatas = $.parseJSON(data);
           $('#shippingPrice').html(aDatas.cost);
           $('#t-shippingPrice').html(aDatas.cost);
           $('#cart-sub-total').html(aDatas.subtotal);
           $('#t-cart-sub-total').html(aDatas.subtotal);
           $('#t-total').html(aDatas.total);
           $('#t-tva').html(aDatas.vat_price);
           $('#st-tva').html(aDatas.vat_price);
           //$.cookies.set("cartShippingId", shippingId);
           hideShippingForm(aDatas.cost);
        }
    });
}
// cart_shipping_costs_login
// ajaxShipping
function ajaxShipping() {
        var defaut_ship_id = 2;          /// billing
    if ($('#shipping1').is(':checked')) {
        var countryId = $('#Customer_Main_Country').val();
    } else if ($('#shipping2').is(':checked')) {
        var countryId = $('#Customer_Delivery_Country').val();
    } else {
        var countryId = defaut_ship_id;
    }
    var shippingId      = $('#MainShipping').val();
    var Pays_Client     = $('#Customer_Main_Country').val();
    var Province_Client = $('#Customer_Main_Province').val();
    var Zip_Client      = $('#Customer_Main_Zip').val();
    $('#Customer_Main_Country').change(function() { var Pays_Client =  $('#Customer_Main_Country').val();});
    $('#Customer_Main_Province').change(function() { var Province_Client =  $('#Customer_Main_Province').val();});
    $('#Customer_Main_Zip').change(function() { var Zip_Client =  $('#Customer_Main_Zip').val();});
    // condition si le pays = 2 alors on check la province & et le zip pour envoyer l'ajax.
    if (countryId == 2) {
        if (Province_Client != "none") if (Zip_Client != false) getAjaxVat(shippingId,countryId,Province_Client,Zip_Client);
    } else {
        getAjaxVat(shippingId,countryId,Province_Client,Zip_Client);
    }
}
// end ajaxShipping
// ajxChangeShipping
function ajxChangeShipping() {
    var Pays_Client     = $('#Customer_Main_Country').val();
    var Province_Client = $('#Customer_Main_Province').val();
    var Zip_Client      = $('#Customer_Main_Zip').val();
    $('#Customer_Main_Country').change(function() { var Pays_Client =  $('#Customer_Main_Country').val();});
    $('#Customer_Main_Province').change(function() { var Province_Client =  $('#Customer_Main_Province').val();});
    $('#Customer_Main_Zip').change(function() { var Zip_Client =  $('#Customer_Main_Zip').val();});
    var randnum = Math.floor(Math.random()*1001);
        var defaut_ship_id = 2;
    if ($('#shipping1').is(':checked')) var countryId = $('#Customer_Main_Country').val();
    else if ($('#shipping2').is(':checked')) var countryId = $('#Customer_Delivery_Country').val();
    else var countryId = defaut_ship_id;
    $.ajax({
       type: 'GET',
       cache: false,
       url: '/ajax_shipping.html?action=getList&Country='+countryId+'&random='+randnum+'&Pays_Client='+countryId+'&Province_Client='+Province_Client+'&Zip_Client='+Zip_Client+'&Update_Vat=true',
       success: function(data) {
           $('#MainShipping').html(data);
           ajaxShipping();
       }
    });
}
// end ajxChangeShipping
// function hide shipping form
function hideShippingForm() {
    var optionBU;
    if ($('#MainShipping option:selected').length) {
        var optionBU = $('#MainShipping option:selected').html().match(/d+.d{2}$/);
        if (($('#MainShipping option').length > 0)&&(optionBU > 0)) $('#shipping-wrap').show(0);
        else $('#shipping-wrap').hide(0);
    } else {
        $('#shipping-wrap').hide(0);
    }
}
// end function hide shipping form
$(document).ready(function() {
    loadCartCountry();
    $('#Customer_Main_Country').change(function() {
       var nb_province = $('#Customer_Main_Province option').length -1;
       if (nb_province > 0) {
          $('#nxw_province_wrapper').show();
          console.log(nb_province);
       } else {
          $('#nxw_province_wrapper').hide();
          console.log('no '+nb_province);
       }
    });
    if (isShipping == true) {
        var countryId = $('#Customer_Delivery_Country').val();
        getAjaxVatDL(countryId);
        ajxChangeShipping();
        var vShippingId = $.cookies.get("cartShippingId");
        if (vShippingId != null) {
            $("#MainShipping").val(vShippingId);
            // ajxChangeShipping();
            updateshipping();
        }
        //var vShippingId = $.cookies.get("cartShippingId");
        if (vShippingId != null) $("#MainShipping").val(vShippingId);
        $('#Customer_Delivery_Country').change(function() {
            updateshipping();
            ajxChangeShipping();
        });
        $('#Customer_Delivery_Province').change(function() {
            updateshipping();
            ajxChangeShipping();
        });
        $('#Customer_Main_Country').change(function() {
            var countryId = $(this).val();
            getAjaxVatDL(countryId);
            updateshipping();
            ajxChangeShipping();
        });
        $('#Customer_Main_Province').change(function() {
            updateshipping();
            ajxChangeShipping();
        });
        $('#t-shippingPrice').change(function() {
            $('#shipping-wrap').addClass('showBlock');
            if ($('#MainShipping option').length > 0) $('#shipping-wrap').removeClass('showBlock');
        });
        $('.zipcode').focusout(function() {
            updateshipping();
            ajxChangeShipping();
        });
        $('.checksipping').click(function() {
            updateshipping();
            ajxChangeShipping();
        });
    } else {
        $('#Customer_Main_Country').change(function() {
            loadCartCountry();
            // select proper VAT prefix depend on country
            var vatPrefix = $('.js-vat-prefix');
            var countryListIdCode = [];
            countryListIdCode.push('184','AF');
            countryListIdCode.push('185','AX');
            countryListIdCode.push('158','AL');
            countryListIdCode.push('157','DZ');
            countryListIdCode.push('235','AS');
            countryListIdCode.push('156','AD');
            countryListIdCode.push('155','AO');
            countryListIdCode.push('154','AI');
            countryListIdCode.push('186','AQ');
            countryListIdCode.push('187','AG');
            countryListIdCode.push('153','AR');
            countryListIdCode.push('152','AM');
            countryListIdCode.push('151','AW');
            countryListIdCode.push('150','AU');
            countryListIdCode.push('149','AT');
            countryListIdCode.push('188','AZ');
            countryListIdCode.push('148','BS');
            countryListIdCode.push('147','BH');
            countryListIdCode.push('146','BD');
            countryListIdCode.push('145','BB');
            countryListIdCode.push('144','BY');
            countryListIdCode.push('143','BE');
            countryListIdCode.push('189','BZ');
            countryListIdCode.push('180','BJ');
            countryListIdCode.push('142','BM');
            countryListIdCode.push('190','BT');
            countryListIdCode.push('141','BO');
            countryListIdCode.push('140','BA');
            countryListIdCode.push('139','BW');
            countryListIdCode.push('191','BV');
            countryListIdCode.push('138','BR');
            countryListIdCode.push('223','IO');
            countryListIdCode.push('136','BN');
            countryListIdCode.push('135','BG');
            countryListIdCode.push('176','BF');
            countryListIdCode.push('134','BI');
            countryListIdCode.push('192','KH');
            countryListIdCode.push('133','CM');
            countryListIdCode.push('132','CA');
            countryListIdCode.push('250','IC');
            countryListIdCode.push('193','CV');
            countryListIdCode.push('131','KY');
            countryListIdCode.push('194','CF');
            countryListIdCode.push('130','TD');
            countryListIdCode.push('129','CL');
            countryListIdCode.push('128','CN');
            countryListIdCode.push('195','CX');
            countryListIdCode.push('196','CC');
            countryListIdCode.push('127','CO');
            countryListIdCode.push('197','KM');
            countryListIdCode.push('126','CG');
            countryListIdCode.push('165','CD');
            countryListIdCode.push('198','CK');
            countryListIdCode.push('125','CR');
            countryListIdCode.push('88','CI');
            countryListIdCode.push('124','HR');
            countryListIdCode.push('199','CU');
            countryListIdCode.push('123','CY');
            countryListIdCode.push('122','CZ');
            countryListIdCode.push('121','DK');
            countryListIdCode.push('178','DJ');
            countryListIdCode.push('120','DM');
            countryListIdCode.push('119','DO');
            countryListIdCode.push('118','EC');
            countryListIdCode.push('117','EG');
            countryListIdCode.push('116','SV');
            countryListIdCode.push('204','GQ');
            countryListIdCode.push('115','ER');
            countryListIdCode.push('114','EE');
            countryListIdCode.push('113','ET');
            countryListIdCode.push('200','FK');
            countryListIdCode.push('112','FO');
            countryListIdCode.push('111','FJ');
            countryListIdCode.push('110','FI');
            countryListIdCode.push('109','FR');
            countryListIdCode.push('169','GF');
            countryListIdCode.push('174','PF');
            countryListIdCode.push('241','TF');
            countryListIdCode.push('175','GA');
            countryListIdCode.push('201','GM');
            countryListIdCode.push('108','GE');
            countryListIdCode.push('107','DE');
            countryListIdCode.push('106','GH');
            countryListIdCode.push('177','GI');
            countryListIdCode.push('105','GR');
            countryListIdCode.push('104','GL');
            countryListIdCode.push('103','GD');
            countryListIdCode.push('170','GP');
            countryListIdCode.push('203','GU');
            countryListIdCode.push('102','GT');
            countryListIdCode.push('256','GG');
            countryListIdCode.push('101','GN');
            countryListIdCode.push('100','GW');
            countryListIdCode.push('99','GY');
            countryListIdCode.push('98','HT');
            countryListIdCode.push('205','HM');
            countryListIdCode.push('97','HN');
            countryListIdCode.push('96','HK');
            countryListIdCode.push('95','HU');
            countryListIdCode.push('94','IS');
            countryListIdCode.push('93','IN');
            countryListIdCode.push('92','ID');
            countryListIdCode.push('209','IR');
            countryListIdCode.push('210','IQ');
            countryListIdCode.push('91','IE');
            countryListIdCode.push('255','IM');
            countryListIdCode.push('90','IL');
            countryListIdCode.push('89','IT');
            countryListIdCode.push('87','JM');
            countryListIdCode.push('86','JP');
            countryListIdCode.push('254','JE');
            countryListIdCode.push('85','JO');
            countryListIdCode.push('84','KZ');
            countryListIdCode.push('83','KE');
            countryListIdCode.push('211','KI');
            countryListIdCode.push('80','KW');
            countryListIdCode.push('82','KG');
            countryListIdCode.push('79','LA');
            countryListIdCode.push('183','LV');
            countryListIdCode.push('77','LB');
            countryListIdCode.push('212','LS');
            countryListIdCode.push('75','LR');
            countryListIdCode.push('213','LY');
            countryListIdCode.push('76','LI');
            countryListIdCode.push('74','LT');
            countryListIdCode.push('73','LU');
            countryListIdCode.push('72','MO');
            countryListIdCode.push('214','MK');
            countryListIdCode.push('70','MG');
            countryListIdCode.push('69','MW');
            countryListIdCode.push('68','MY');
            countryListIdCode.push('67','MV');
            countryListIdCode.push('66','ML');
            countryListIdCode.push('65','MT');
            countryListIdCode.push('216','MH');
            countryListIdCode.push('172','MQ');
            countryListIdCode.push('64','MR');
            countryListIdCode.push('63','MU');
            countryListIdCode.push('217','YT');
            countryListIdCode.push('62','MX');
            countryListIdCode.push('218','FM');
            countryListIdCode.push('61','MD');
            countryListIdCode.push('60','MC');
            countryListIdCode.push('58','MN');
            countryListIdCode.push('252','ME');
            countryListIdCode.push('59','MS');
            countryListIdCode.push('57','MA');
            countryListIdCode.push('56','MZ');
            countryListIdCode.push('219','MM');
            countryListIdCode.push('55','NA');
            countryListIdCode.push('220','NR');
            countryListIdCode.push('54','NP');
            countryListIdCode.push('53','NL');
            countryListIdCode.push('52','AN');
            countryListIdCode.push('171','NC');
            countryListIdCode.push('51','NZ');
            countryListIdCode.push('50','NI');
            countryListIdCode.push('49','NE');
            countryListIdCode.push('48','NG');
            countryListIdCode.push('221','NU');
            countryListIdCode.push('222','NF');
            countryListIdCode.push('23','KP');
            countryListIdCode.push('215','MP');
            countryListIdCode.push('47','NO');
            countryListIdCode.push('46','OM');
            countryListIdCode.push('45','PK');
            countryListIdCode.push('224','PW');
            countryListIdCode.push('225','PS');
            countryListIdCode.push('44','PA');
            countryListIdCode.push('43','PG');
            countryListIdCode.push('42','PY');
            countryListIdCode.push('41','PE');
            countryListIdCode.push('40','PH');
            countryListIdCode.push('226','PN');
            countryListIdCode.push('39','PL');
            countryListIdCode.push('38','PT');
            countryListIdCode.push('37','PR');
            countryListIdCode.push('36','QA');
            countryListIdCode.push('173','RE');
            countryListIdCode.push('35','RO');
            countryListIdCode.push('34','RU');
            countryListIdCode.push('227','RW');
            countryListIdCode.push('228','EH');
            countryListIdCode.push('259','BL');
            countryListIdCode.push('253','MF');
            countryListIdCode.push('234','WS');
            countryListIdCode.push('229','SM');
            countryListIdCode.push('236','ST');
            countryListIdCode.push('30','SA');
            countryListIdCode.push('29','SN');
            countryListIdCode.push('251','RS');
            countryListIdCode.push('237','CS');
            countryListIdCode.push('238','SC');
            countryListIdCode.push('28','SL');
            countryListIdCode.push('27','SG');
            countryListIdCode.push('26','SK');
            countryListIdCode.push('25','SI');
            countryListIdCode.push('233','SB');
            countryListIdCode.push('239','SO');
            countryListIdCode.push('24','ZA');
            countryListIdCode.push('202','GS');
            countryListIdCode.push('81','KR');
            countryListIdCode.push('22','ES');
            countryListIdCode.push('257','IB');
            countryListIdCode.push('258','EA');
            countryListIdCode.push('21','LK');
            countryListIdCode.push('232','SH');
            countryListIdCode.push('33','KN');
            countryListIdCode.push('32','LC');
            countryListIdCode.push('230','PM');
            countryListIdCode.push('31','VC');
            countryListIdCode.push('20','SD');
            countryListIdCode.push('19','SR');
            countryListIdCode.push('240','SJ');
            countryListIdCode.push('18','SZ');
            countryListIdCode.push('17','SE');
            countryListIdCode.push('16','CH');
            countryListIdCode.push('249','SY');
            countryListIdCode.push('15','TW');
            countryListIdCode.push('13','TJ');
            countryListIdCode.push('14','TZ');
            countryListIdCode.push('12','TH');
            countryListIdCode.push('242','TL');
            countryListIdCode.push('179','TG');
            countryListIdCode.push('243','TK');
            countryListIdCode.push('244','TO');
            countryListIdCode.push('11','TT');
            countryListIdCode.push('10','TN');
            countryListIdCode.push('9','TR');
            countryListIdCode.push('8','TM');
            countryListIdCode.push('7','TC');
            countryListIdCode.push('245','TV');
            countryListIdCode.push('6','UG');
            countryListIdCode.push('5','UA');
            countryListIdCode.push('4','AE');
            countryListIdCode.push('3','GB');
            countryListIdCode.push('2','US');
            countryListIdCode.push('206','UM');
            countryListIdCode.push('160','UY');
            countryListIdCode.push('161','UZ');
            countryListIdCode.push('246','VU');
            countryListIdCode.push('231','VA');
            countryListIdCode.push('162','VE');
            countryListIdCode.push('163','VN');
            countryListIdCode.push('207','VI');
            countryListIdCode.push('137','VG');
            countryListIdCode.push('247','WF');
            countryListIdCode.push('248','YE');
            countryListIdCode.push('166','ZM');
            countryListIdCode.push('167','ZW');
            for (var i = 0; i < countryListIdCode.length; i++) {
                // check Swiss country selected
                if ($(this).val() == '16') {
                    vatPrefix.val('CHE');
                    return;
                }
                // check others countries selected depend on country
                if (countryListIdCode[i] == $(this).val()) {
                    if (vatPrefix.children('option[value=' + countryListIdCode[i+1] +']').length == 0) {
                        return
                    }
                    vatPrefix.val(countryListIdCode[i+1]);
                }
            }
        });
        $('.js-vat-number').change(function() {
            eecVatValidator();
        });
    }
    $('#load-cart').change(function() {
        $('.c-action-l').hide(0);
        if ($('#MainShipping option').length >0) $('.c-action-l').show(0);
    });
    $('#CADDIEPROMO').attr('onsubmit', 'valide_code();');
})
var vLoginCount = 0;
var accountCreated = false;
/// start function verif form //
    // if ( window.addEventListener ) {
    //     var kkeys = [], knm = "38,38,40,40,37,39,37,39,66,65";
    //     window.addEventListener("keydown", function(e){
    //     kkeys.push( e.keyCode );
    //     if ( kkeys.toString().indexOf( knm ) >= 0 ) {alert('Please review our Privacy Policy for more information');}
    //     }, true);
    // }
function validateEmail(lemail) {
  var filter = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/;
  return (filter.test(lemail))
}
function brandedSelectValidation(action, field) {
    var selectEl = $('#'+field);
    if (action === 'invalid') {
        selectEl.parent().addClass('invalid');
    } else {
        selectEl.parent().removeClass('invalid');
    }
}
function setError(aField, aDiv){
  if (aDiv)
    var oObj = document.getElementById(aDiv);
  else
    var oObj = document.getElementById(aField);
  if (oObj){
    oObj.classList.remove("neutral");
    oObj.classList.add("invalid");
    var oObjImg = document.getElementById(aField+"_Error");
    if (oObjImg ){
        //oObjImg.innerHTML = '<img src="http://us-focushop.nexway.com/img/field_error.png" class="fld-error" alt="" />';
        oObjImg.style.display = "block";
    }
    if ((aField === "Customer_Main_Country") || (aField === "Customer_Main_Province") || (aField === "annee") || (aField === "mois") || (aField === "jour")) {
        brandedSelectValidation('invalid', aField);
    }
  }
}
function setValid(aField, aDiv) {
    if (aDiv) {
       var oObj = document.getElementById(aDiv);
    } else {
       var oObj = document.getElementById(aField);
    }
    if (oObj) {
        oObj.classList.remove("invalid");
        oObj.classList.remove("neutral");
        var oObjImg = document.getElementById(aField+"_Error");
        if (oObjImg ) {
            //oObjImg.innerHTML = '<img src="http://us-focushop.nexway.com/img/field_ok.png" alt="" />';
            oObjImg.style.display = "none";
        }
        if ((aField === "Customer_Main_Country") || (aField === "Customer_Main_Province") || (aField === "annee") || (aField === "mois") || (aField === "jour")) {
            brandedSelectValidation('valid');
        }
    }
}
function setNeutral(aField, aDiv){
  if (aDiv)
    var oObj = document.getElementById(aDiv);
  else
    var oObj = document.getElementById(aField);
  if (oObj) {
    oObj.classList.remove("invalid");
    oObj.classList.add("neutral");
    var oObjImg = document.getElementById(aField+"_Error");
    if (oObjImg ){
       //oObjImg.innerHTML = '';
       oObjImg.style.display = "none";
        if ((aField === "Customer_Main_Country") || (aField === "Customer_Main_Province") || (aField === "annee") || (aField === "mois") || (aField === "jour")) {
          brandedSelectValidation('valid');
       }
    }
  }
}
function validZipCode(elementValue){
    var zipCodePattern = /^d{5}$|^d{5}-d{4}$/;
     return zipCodePattern.test(elementValue);
}
function validStrict(elementValue){
  return true;
}
function validatePhone(oObjID){
      var phoneReg = new RegExp('^[0-9 ()+-]+$');
      if ((phoneReg.test(oObjID) == false) || (6 > oObjID.length)) {
        return false;
      }
      return true;
}
function validSelect(oObjID){
  var vError = false;
  if (($('#' + oObjID).val()=='none') || ($('#' + oObjID).val()=='') || ($('#' + oObjID).val()==0)){
    vError = true;
    }
  var currentTime = new Date()
  var year = currentTime.getFullYear();
  var ageLimit = year - 18;
  if ($('#' + oObjID).val() > ageLimit){
      vError = true;
  }
  if ($('#' + oObjID).attr("disabled")==true) {
    setNeutral(oObjID);
    vError = false;
    return true;
  }
  else {
  }
  if (vError){
    setError(oObjID);
    return false;
  }
  setValid(oObjID);
  return true;
}
function validCheck(oObj){
  var vError = false;
  if ($('#'+ oObj).is(':checked')) {
  } else {
    var vError = true;
  }
  if (vError){
    $('#'+ oObj).css('backgroundColor', '#fcf2f2');
    $('#'+ oObj).css('border', '1px solid #cc0000');
    $('#'+ oObj+'Label').css('backgroundColor', '#fcf2f2');
    $('#'+ oObj+'Label').css('border', '1px solid #cc0000');
    return false;
  }
  $('#'+ oObj+'Label').css('backgroundColor', '#ffffff');
  $('#'+ oObj+'Label').css('border', '1px solid #009900');
  return true;
}
function validCheckRadio(oObj){
  var vError = false;
  if ($('#'+ oObj+' input[type=radio] ').is(':checked')) {
  } else {
    var vError = true;
  }
  if (vError){
    $('#'+ oObj).css('backgroundColor', '#fcf2f2');
    $('#'+ oObj).css('border', '1px solid #cc0000');
    $('#'+ oObj+'Label').css('backgroundColor', '#fcf2f2');
    $('#'+ oObj+'Label').css('border', '1px solid #cc0000');
    return false;
  }
  $('#'+ oObj+'Label').css('backgroundColor', '#ffffff');
  $('#'+ oObj+'Label').css('border', '1px solid #009900');
  return true;
}
function validField(oObj, aType, aCompar){
  if ($.type(oObj) === "string") {
    var vValue = $("#" + oObj).val();
    var vId = oObj;
  }
  else {
    var vValue = $("#" + oObj.id).val();
    var vId = oObj.id;
  }
  var vError = false;
  switch (aType){
  case 'string':
      if (vValue=='')
        vError = true;
    break;
    case 'strict':
      if (vValue=='')
        vError = true;
      else if (!validStrict(vValue))
        vError = true;
    break;
    case 'eecNumber':
      if  ($("#" + oObj).hasClass('invalid-field')) {
          vError = true
      }
    break;
    case 'zip':
     if (vValue=='')
        vError = true;
     /*else if (!validZipCode(vValue))
      vError = true;*/
    break;
    case 'email':
      if (vValue=='')
        vError = true;
      else if (!validateEmail(vValue))
        vError = true;
    break;
    case 'email2':
      var vEmail = $("#" + aCompar).val();
      if (vValue=='')
        vError = true;
      else if (!validateEmail(vValue))
        vError = true;
      else if (vValue!=vEmail)
        vError = true;
    break;
    case 'phone':
      if (oObj.value=='')
        vError = true;
      else if (!validatePhone(vValue))
        vError = true;
    break;
    case 'password':
      var vPassword = $("#" + aCompar).val();
      if (vValue=='' || vValue!=vPassword)
        vError = true;
    break;
    case 'country-select':
      if (oObj.value==1)
        vError = true;
    break;
  }
  if (vError){
    setError(vId);
    return false;
  }
  setValid(vId);
  return true;
}
function validFieldCheckbox(oObj, aDiv){
  var vError = false;
  if (oObj.checked==false)
    vError = true;
  if (vError){
    setError(oObj.id, aDiv);
    return false;
  }
  setValid(oObj.id, aDiv);
  return true;
}
function validCheckRadio(oObj){
  var vError = false;
  var v_id = '';
  if ($('#'+ oObj+' input[type=radio] ').attr('checked') ==true) {
   var v_id= $(this).attr('id');
  } else {
    var vError = true;
  }
  if (vError){
    $('#'+ oObj).css('backgroundColor', '#fcf2f2');
    $('#'+ oObj+'#'.v_id).css('border', '1px solid #cc0000');
    //$('#'+ oObj+'Label').css('backgroundColor', '#fcf2f2');
    $('#'+ oObj+'#'.v_id).css('border', '1px solid #cc0000');
    return false;
  }
 // $('#'+ oObj+'Label').css('backgroundColor', '#ffffff');
  $('#'+ oObj+'#'.v_id).css('border', '1px solid #009900');
  return true;
}
function preValidField(oObj, aType, aCompar) {
  if ($("#" + oObj).val()!='') {
    if (!validField(oObj, aType))
      return false;
  } else {
    setNeutral(oObj);
  }
  return true;
}
var scrollToElementFunctionDisabled = false;
function scrollToElement(element, delay) {
   if (scrollToElementFunctionDisabled) {
     return;
   }
   if (element.length > 0) {
     scrollToElementFunctionDisabled = true;
     delay = (typeof delay === 'undefined') ? 500 : delay;
     spaceMarginToScreenTop = (typeof spaceMarginToScreenTop === 'undefined') ? $(document).height() * 0.05 : spaceMarginToScreenTop;
     $('html, body').animate({scrollTop: element.offset().top-spaceMarginToScreenTop}, {
       duration: delay,
       complete: function() { scrollToElementFunctionDisabled = false; }
     })
   }
}
function validateForm(vPaymentMode){
      var vResult = true;
      if ($('#Customer_Main_Accept_Sales_Conditions').is(':checked')){
        vResult = true;
      }else{
        vResult = false;
        var error_accept_sales_conditions =true;
      }
      if (!validField('Customer_Main_First_Name', 'strict'))
        vResult = false;
      if (!validField('Customer_Main_Last_Name', 'strict'))
        vResult = false;
      if (!preValidField('Customer_Main_Address', 'string'))
        vResult = false;
      if (!preValidField('Customer_Main_Zip', 'zip'))
        vResult = false;
      if (!preValidField('Customer_Main_City', 'strict'))
        vResult = false;
      if (!validField('Customer_Main_Email', 'email'))
        vResult = false;
      if (!validField('Customer_Main_Email2', 'email2', 'Customer_Main_Email'))
        vResult = false;
      if (!validField('Customer_Main_Password', 'password', 'Customer_Main_Password2'))
        vResult = false;
      if (!validField('Customer_Main_Password2', 'password', 'Customer_Main_Password'))
        vResult = false;
      if (vPaymentMode) {
        if (!validField('Customer_Main_Address', 'string'))
          vResult = false;
        if (!validField('Customer_Main_City', 'strict'))
          vResult = false;
        if (!validField('Customer_Main_Zip', 'zip'))
          vResult = false;
        if (!validSelect('Customer_Main_Title'))
          vResult = false;
        if ($('#Customer_Main_Province').is(':visible')) {
          if (!validSelect('Customer_Main_Province')) {
              vResult = false;
          }
        }
        if ($('#cctype-payment-content-invoice').is(':visible')) {
          if (!validField('Customer_Main_Phone_Ratepay', 'string')) {
              vResult = false;
          }
          if ($('#birthday_row_ratepay').is(':visible')) {
              if (!validSelect('jour')) {
                  vResult = false;
              }
              if (!validSelect('mois')) {
                  vResult = false;
              }
              if (!validSelect('annee')) {
                  vResult = false;
              }
          }
        }
      }
      if ($('#shipping2').is(':checked')) {
        if (!validField('Customer_Delivery_Address', 'string'))
          vResult = false;
        if (!validField('Customer_Delivery_City', 'strict'))
          vResult = false;
        if (!validField('Customer_Delivery_Zip', 'zip'))
          vResult = false;
        if (!validSelect('Customer_Delivery_Country'))
          vResult = false;
      }
      if (vResult) {
        $('#errors').hide();
      } else {
        if(error_accept_sales_conditions == true){
          $('#Customer_Main_Accept_Sales_Conditions_Error').show().delay(6000).fadeOut(500);
        }
        $('#errors').show().delay(6000).fadeOut(500);
      }
        if ($('#Customer_Main_Company_Name').is(':visible')) {
          if (!validField('Customer_Main_Company_Name', 'strict')) {
              vResult = false;
          }
        }
        if ($('#Customer_Main_Company_EEC_VAT_NUMBER').is(':visible')) {
          if (!validField('Customer_Main_Company_EEC_VAT_NUMBER', 'eecNumber')) {
              vResult = false;
          }
        }
      if (!vResult) {
         var firstInvalidElement = $('.form-control.invalid:visible, .error-checkbox:visible').first();
         scrollToElement(firstInvalidElement);
      }
      return vResult;
}
function submitLoginForm(vPaymentMode){
  if (validateForm(vPaymentMode)) {
    if (accountCreate(vPaymentMode)) {
         document.location.href='account.html';
    }
  }
  return false;
}
var toggleCompany = function(s) {
  if ($('#Customer_Main_Type_2').is(':checked')) {
    $('#company_section_1').show();
    $('#company_section_2').show();
  } else {
    $('#company_section_1').hide();
    $('#company_section_2').hide();
  }
}
var toggleDelivery = function(c){
  if(c.value === '2' || c.value === '3') {
    if($('#delivery_section_1').style.display === 'none') {
      $('#delivery_section_1').style.display = '';
      $('#delivery_section_2').style.display = '';
    }
  } else {
    if($('#delivery_section_1').style.display === '') {
      $('#delivery_section_1').style.display = 'none';
      $('#delivery_section_2').style.display = 'none';
    }
  }
}
function loginToHide(){
}
function shippingShow(){
  $('#shippin').show();
}
function loginFormShow(){
  $("#loginForm").animate({
    opacity: "toggle"
  }, 500, function() {
    shippingShow();
    $('#paymentCheckout').show();
    $('#Customer_Main_Email').focus();
  });
  $("#creatlogin").animate({
    opacity: "toggle"
  }, {
    duration: "slow"
  });
  loginToHide();
}
function paymentFormShow(){
  $("#paymentForm").show();
  $(".custommer-info").hide();
}
function loginFormShowNoCreate(){
  if ($('#register').is(':visible')) {
    $("#register").css({display:'none'});
    $("#register #action").val('');
  }else{
    $("#register").css({display:'block'});
    $("#register #action").val('edit');
    $('#CustomerDeliveryDeliveryAddress').html('<input type="hidden" checked="checked" name="Customer[Delivery][Delivery_Address]" />');
  }
}
function loginHide(){
}
function accountLogin(paymentMode){
  var vLogin_Email    = $("#Login_Email").val();
  var vLogin_Password = $("#Login_Password").val();
  var vMode = "";
  if (paymentMode==true) {
    $(".loading").show();
    vMode = 'payment';
  }
  $.ajax({
    url: "/ajax_login.html",
    type: "POST",
    async: false,
    context: this,
    data: ({Login_Email : vLogin_Email,
            Login_Password : vLogin_Password,
            action : 'login',
            verif : '1',
            mode : vMode
    }),
    success: function(msg){
      if (msg=="NOT_FOUND") {
        $(".loading").hide();
        $('#account-errors').show().delay(6000).fadeOut(500);
      } else if (msg=="CUSTOMER_LOGIN_FAILED") {
        $(".loading").hide();
        $('#account-errors').show().delay(6000).fadeOut(500);
      } else if (msg=="CUSTOMER_LOGIN_NEED_MIGRATION") {
       $(".loading").hide();
       // document.location.href='/login_first.html';
      } else if (msg=="CUSTOMER_EMPTY") {
        //$(".loading").hide();
        document.location.href='/cart.html';
        return true;
      } else if (msg=="OK") {
       if (paymentMode==true) {
          //loginHide();
          //return true;
        } else {
              document.location.href='account.html';
        }
      } else {
        $('#account-errors').show().delay(6000).fadeOut(500);
      }
    }
  });
}
function accountUpdate(paymentMode){
  var vPostVars = {
    'Customer[Main]': '1',
    action          : 'edit',
    form_submit     : '1',
    form_update     : '1',
    next            : ''
  };
  var aPostVars = $('[name^="Customer\[Main\]"]');
  console.log(aPostVars);
  for (var i = 0; i  <aPostVars.length; i++) {
   if( vPostVars[aPostVars[i].name] == 'Customer\[Main\]\[Title\]'){
      console.log(vPostVars[aPostVars[i].name])
      if((vPostVars[aPostVars[i].checked] =="checked") || (vPostVars[aPostVars[i].checked] == true)){
            vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').val();
      }
   }else{
      vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').attr('value');
   }
  }
  var aPostVars = $('[name^="Customer\[Delivery\]"]');
  for (var i = 0; i < aPostVars.length; i++) {
    vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').val();
  }
  console.log(aPostVars);
  var vResult = false;
  $.ajax({
    url: '/ajax_update.html',
    type: "POST",
    data: vPostVars,
    async: false,
    success: function(data){
      var aDatas = $.parseJSON(data);
      switch (aDatas.status) {
        case 'nok':
          $(".loading").hide();
          $.each(aDatas.errors, function(aKey, aValue) {
            if (aValue.token=='account_already_exists') {
                $('#errors-account-already-exists').show().delay(6000).fadeOut(500);
            }
            if (aValue.token=='customer_error_not_valid' && aValue.field=='Email') {
              $('#Customer_Main_Email').val('');
              $('#Customer_Main_Email2').val('');
              $('#Customer_Main_Email_Error').show().delay(6000).fadeOut(500);
              $('#Customer_Main_Email2_Error').show().delay(6000).fadeOut(500);
              $('#errors-invalid-email-exists').show().delay(6000).fadeOut(500);
            }
            if (aValue.token=='customer_error_not_valid' && aValue.field=='Province') {
              $('#errors').show().delay(6000).fadeOut(500);
              $('#Customer_Main_Province_Error').show().delay(6000).fadeOut(500);
            }
          });
        break;
        case 'ok':
          vResult = true;
        break;
        default :
        break;
      }
    }
  });
  return vResult;
}
function accountCreate(paymentMode){
    console.log('=>'+paymentMode+' => accountCreate');
  var vPostVars = {
    'Customer[Main]': '1',
    action          : 'reg',
    form_submit     : '1',
      next            : 'login_valid.html?next=',
    verif           : '1'
  };
  var aPostVars = $('[name^="Customer\[Main\]"]');
  for (var i = 0; i < aPostVars.length; i++) {
   if(vPostVars[aPostVars[i].type] =="radio"){
      if((vPostVars[aPostVars[i].checked] =="checked") || (vPostVars[aPostVars[i].checked] == true)){
         vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').attr('value');
      }
   }else{
      vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').val();
   }
  }
  var aPostVars = $('[name^="Customer\[Delivery\]"]');
  for (var i = 0; i < aPostVars.length; i++) {
    vPostVars[aPostVars[i].name] = $('[name='+jqSelector(aPostVars[i].name)+']').val();
  }
  var vResult = false;
  if (paymentMode) {
    var vUrl = '/ajax_register.html';
  } else {
    var vUrl = '/ajax_create.html';
  }
    console.log('vUrl => '+vUrl);
    console.log('accountCreate');
    console.log(vPostVars);
  $.ajax({
    url: vUrl,
    type: "POST",
    async: false,
    data: vPostVars,
    error: function(data){
    },
    success: function(data){
      var aDatas = $.parseJSON(data);
      console.log(aDatas);
      switch (aDatas.status) {
        case 'nok':
          $(".loading").hide();
          $.each(aDatas.errors, function(aKey, aValue) {
            if (aValue.token=='account_already_exists') {
              $('#Customer_Main_Email').val('');
              $('#Customer_Main_Email2').val('');
              $('#errors-account-already-exists').show().delay(6000).fadeOut(500);
            }
            if (aValue.token=='customer_error_not_valid' && aValue.field=='Email') {
              $('#Customer_Main_Email').val('');
              $('#Customer_Main_Email2').val('');
              $('#errors-invalid-email-exists').show().delay(6000).fadeOut(500);
            }
            if (aValue.token=='customer_error_not_valid' && aValue.field=='Province') {
              $('#Customer_Main_Province_Error').show();
            }
          });
        break;
        case 'ok':
          vResult = true;
          accountCreated = true;
        break;
        default :
        break;
      }
    }
  });
  if (!vResult) {
    var alreadyCreatedAccountAlert = $('.alert.alert-danger:visible').first();
    scrollToElement(alreadyCreatedAccountAlert);
  }
  return vResult;
}
function jqSelector(str){
    //return str.replace(/([;&,.+*~':"!^#$%@[]()=>|])/g, '$1');
    //return str.replace(/([;&,.+*~':"!^#$%@[]()=>|])/g, '\$1');
    return str.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, '\\$1');
}
function deliveryhidden(oThis, id){
  if (oThis.id == 'shipping1' && oThis.id==false) {
    $('#CustomerDeliveryDeliveryAddress').html('');
    document.getElementById('shipping-address').style.display = oThis.checked ? 'none' : 'none';
  }
  if (oThis.id == 'shipping2') {
    $('#CustomerDeliveryDeliveryAddress').html('<input type="hidden" checked="checked" name="Customer[Delivery][Delivery_Address]" />');
    document.getElementById('shipping-address').style.display = oThis.checked ? 'block' : 'none';
  }
}
$(document).ready(function(){
///////////////////////////////////
    $('#bt-logout').click(function(){
         $(".loading").show();
    });
    var attr_check = $('#Customer_Main_Accept_Sales_Conditions_Display').is(':checked');
      var accept_email_pos = readCookie('accept_sales_conditions_check');
      if(accept_email_pos =="checked"){
        $('#Customer_Main_Accept_Sales_Conditions').attr('checked','checked');
        $('#Customer_Main_Accept_Sales_Conditions_Display').attr('checked',true);
      }
      else if(accept_email_pos =="no-checked"){
        $('#Customer_Main_Accept_Sales_Conditions').removeAttr('checked');
        $('#Customer_Main_Accept_Sales_Conditions_Display').removeAttr('checked');
      }
      else if(attr_check == true){
        $('#Customer_Main_Accept_Sales_Conditions').attr('checked',true);
        $('#Customer_Main_Accept_Sales_Conditions_Display').attr('checked',true);
      }else{
        $('#Customer_Main_Accept_Sales_Conditions').removeAttr('checked');
        $('#Customer_Main_Accept_Sales_Conditions_Display').removeAttr('checked');
      }
    $('#Customer_Main_Accept_Sales_Conditions_Display').click(function(){
      var attr_check2 = $(this).is(':checked');
      if(attr_check2 ==true){
         $('#Customer_Main_Accept_Sales_Conditions').attr('checked',true);
         $('#Customer_Main_Accept_Sales_Conditions_Display').attr('checked',true);
         eraseCookie('accept_sales_conditions_check');
         createCookie("accept_sales_conditions_check","checked","36520");
      }
      else{
          $('#Customer_Main_Accept_Sales_Conditions').removeAttr('checked');
          $('#Customer_Main_Accept_Sales_Conditions_Display').removeAttr('checked');
          createCookie("accept_sales_conditions_check","no-checked","36520");
       }
    });
///////////////////////
   var attr_check = $('#Customer_Main_Accept_Email_Display').is(':checked');
      var accept_email_pos = readCookie('accept_email_check');
      if(accept_email_pos =="checked"){
        $('#Customer_Main_Accept_Email').attr('checked','checked');
        $('#Customer_Main_Accept_Email_Display').attr('checked',true);
      }
      else if(accept_email_pos =="no-checked"){
        $('#Customer_Main_Accept_Email').removeAttr('checked');
        $('#Customer_Main_Accept_Email_Display').removeAttr('checked');
      }
      else if(attr_check == true){
        $('#Customer_Main_Accept_Email').attr('checked',true);
        $('#Customer_Main_Accept_Email_Display').attr('checked',true);
      }else{
        $('#Customer_Main_Accept_Email').removeAttr('checked');
        $('#Customer_Main_Accept_Email_Display').removeAttr('checked');
      }
    $('#Customer_Main_Accept_Email_Display').click(function(){
      var attr_check2 = $(this).is(':checked');
      if(attr_check2 ==true){
         $('#Customer_Main_Accept_Email').attr('checked',true);
         $('#Customer_Main_Accept_Email_Display').attr('checked',true);
         eraseCookie('accept_email_check');
         createCookie("accept_email_check","checked","36520");
      }
      else{
          $('#Customer_Main_Accept_Email').removeAttr('checked');
          $('#Customer_Main_Accept_Email_Display').removeAttr('checked');
          createCookie("accept_email_check","no-checked","36520");
       }
    });
    $('#register .form-control').click(function(){
        var thisId = $(this).attr('id');
        if (thisId === 'Customer_Main_Country') {
            return;
        }
        if ($('#'+thisId+'_Error').is(':visible')) {
          $('#'+thisId+'_Error').fadeOut('slow');
        }
    });
});
var urlHelper = {
  /**
   * Retrives parameters from url preceded by hash (#) sign
   * e.g.
   * URL: https://webdemo-br.prep.websizing.com/cart.html?REF=804807#hide_payment=cc&select_payment=paypal
   * usage1: urlHelper.getHashParameterByName('hide_payment') will return: 'cc'
   * usage2: urlHelper.getHashParameterByName('select_payment') will return: 'paypal'
   */
  getHashParameterByName: function(hashParamName) {
    var regex, results;
    hashParamName = hashParamName.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    regex = new RegExp("[\\?&#]" + hashParamName + "=([^&#]*)");
    results = regex.exec(document.location.hash);
    if (results === null) {
      return false;
    }
    return decodeURIComponent(results[1].replace(/\+/g, ' '));
  }
}
var cartForm = {
    paymentFormElement: null,
    paymentsListElement: null,
    init: function() {
        paymentFormElement = $('#paymentForm');
        paymentsListElement = paymentFormElement.find('.cclist').first();
        this.toggleTypeUser();
        this.vatChanged();
        this.cpfcnpjChanged();
        this.focusSelect();
        this.applyHashParameters();
        window.onhashchange = this.applyHashParameters;
    },
    toggleTypeUser: function() {
        var $customerMainType = $('#Customer_Main_Type'),
            $companyName = $('.company-name'),
            $companyEecVat = $('.company-eec-vat'),
            $companyCNPJ = $('.company-cnpj'),
            $companyCPF = $('.company-cpf'),
            $companyTax = $('.company-tax'),
            $companyNumer = $('.company-number');
        $customerMainType.change(function() {
            if ($(this).val() === "2" || $(this).val() === "3") {
                $companyName.show();
                $companyEecVat.show();
                $companyCNPJ.show();
                $companyTax.show();
                $companyCPF.hide();
                $companyNumer.show();
                $('#birthday_row_ratepay').hide();
            } else {
                $companyName.hide();
                $companyEecVat.hide();
                $companyCNPJ.hide();
                $companyTax.hide();
                $companyCPF.show();
                $companyNumer.hide();
                $('#birthday_row_ratepay').show();
            }
        });
        var userType = "";
        function companySwitch() {
            if ($customerMainType.val() === "2" || $customerMainType.val() === "3" || ( userType === "true")) {
                $companyName.show();
                $companyEecVat.show();
                $companyCNPJ.show();
                $companyTax.show();
                $companyCPF.hide();
                $companyNumer.show();
                $('#birthday_row_ratepay').hide();
            } else {
                $companyName.hide();
                $companyEecVat.hide();
                $companyCNPJ.hide();
                $companyTax.hide();
                $companyCPF.show();
                $companyNumer.hide();
                $('#birthday_row_ratepay').show();
            }
        }
        companySwitch();
    },
    /**
     * Selects payment, hides it or remins as only one.
     *
     * @param action Types: 'select', 'hide', 'remain'
     * @param paymentName e.g. credit_card, express_checkout, sofort
     */
    performOnPaymentMethod: function(action, paymentName) {
       if (paymentName == false) {
         return;
       }
       var paymentElement = paymentsListElement.find('input[value="'+paymentName+'"]').first();
       switch (action) {
         case 'select':
           if (paymentElement.is(":visible")) {
             paymentElement.click();
           }
           break;
         case 'hide':
           paymentElement.parent().hide();
           // select first visible
           paymentsListElement.find('div:visible').find('input').click();
           break;
         case 'remain':
           // hide all payments
           paymentsListElement.find('div').hide();
           // remember that payment can be already hidden
           paymentElement.parent().show();
           // select it
           paymentElement.click();
           break;
       }
    },
    applyHashParameters : function() {
        if (urlHelper.getHashParameterByName("step") == "payment") {
        // priority of performOnPaymentMethod() is important!
            cartForm.performOnPaymentMethod('select', urlHelper.getHashParameterByName("method"));
            if (urlHelper.getHashParameterByName("hide") == "true") {
                cartForm.performOnPaymentMethod('hide', urlHelper.getHashParameterByName("method"));
            }
            if (urlHelper.getHashParameterByName("force") == "true") {
                cartForm.performOnPaymentMethod('remain', urlHelper.getHashParameterByName("method"));
            }
            // all payments were hidden, lets enable at least first
            if (paymentsListElement.find('div:visible').length < 1) {
                var paymentElement = paymentsListElement.find('div').first();
                paymentElement.show();
                paymentElement.find('input').click();
            }
        }
    },
    vatChanged: function() {
        var vatFull      = $('.js-vat-full'),
            vatPrefix    = $('.js-vat-prefix'),
            vatNumber    = $('.js-vat-number'),
            formSubmit   = $('form[name="formulaire"]');
        vatNumber.change(function() {
            vatFull.attr('value','' + vatPrefix.val() + vatNumber.val());
            if (!vatNumber.val()) {
                vatFull.val('');
            }
        });
        // clear vat number if you change prefix
        vatPrefix.change(function() {
        vatNumber.val('');
        });
    },
    cpfcnpjChanged: function() {
        var cpfDisplay   = $('#Customer_Main_Cpf_Display'),
            cnpjDisplay  = $('.cnpj_display'),
            cpfHidden    = $('#Customer_Main_Cpf');
            cnpjDisplay.focusout(function() {
            cpfHidden.val($(this).val());
            createCookie("cpf_val_cookie",cpfHidden,"36520");
        });
    },
    focusSelect: function() {
        $("select").focus(function() {
            $(this).parent().addClass('focus');
        });
        $("select").blur(function() {
            $(this).parent().removeClass('focus');
        });
    }
}
cartForm.init();
function checkAgreement() {
    if ($('.Customer_Main_Accept_Sales_Conditions_Display').attr('checked') === "checked") {
        $('.Customer_Main_Accept_Sales_Conditions_Display').next().parent().removeClass('error-checkbox');
    } else {
        $('.Customer_Main_Accept_Sales_Conditions_Display').next().parent().addClass('error-checkbox');
    }
}
// function accountCheckout(subscriptionId, subscriptionCore, action){
//     updatePaymentsMethods();
//     var currentRole = $('input[name=cctype]:checked').val();
//     var paymentForm = $.directPayment.verifyPaymentForm({
//         role: currentRole,
//         error: function(data) {
//             $(".loading").hide();
//             $(".cctype-credit_card-formvalidation-error").show().delay(3000).fadeOut(400);
//             switch (data.field) {
//                 case 'directpayment_cc_type':
//                     $('#'+data.field+'_card').html('');
//                     break;
//                 case 'directpayment_cc_bank_code':
//                 case 'directpayment_cc_number':
//                 case 'directpayment_cc_cid':
//                     $('#'+data.field).addClass("invalid");
//                     $('#'+data.field+'_field').addClass("cctype-fields-error");
//                     $('#'+data.field+'_Error').show().delay(3000).fadeOut(400);
//                     break;
//                 case 'directpayment_cc_exp':
//                 case 'directpayment_cc_exp_month':
//                 case 'directpayment_cc_exp_year':
//                     $('#directpayment_cc_exp_month').addClass("cctype-fields-error");
//                     $('#directpayment_cc_exp_month').addClass("invalid");
//                     $('#directpayment_cc_exp_year').addClass("cctype-fields-error");
//                     $('#directpayment_cc_exp_year').addClass("invalid");
//                     $('#directpayment_cc_exp_Error').show().delay(3000).fadeOut(400);
//                     break;
//               }
//         },
//         success: function(data) {
//             switch (data.field) {
//                 case 'directpayment_cc_bank_code':
//                     $('#'+data.field+'_field').removeClass("cctype-fields-error");
//                     $('#'+data.field).removeClass("invalid");
//                     break;
//                 case 'directpayment_cc_number':
//                     $('#directpayment_cc_number_field').removeClass("cctype-fields-error");
//                     $('#'+data.field).removeClass("invalid");
//                     $('#'+data.field+'_Error').hide();
//                     break;
//                 case 'directpayment_cc_cid':
//                     $('#directpayment_cc_cid_field').removeClass("cctype-fields-error");
//                     $('#'+data.field).removeClass("invalid");
//                     $('#'+data.field+'_Error').hide();
//                     break;
//                 case 'directpayment_cc_type':
//                     break;
//                 case 'directpayment_cc_exp':
//                     $('#directpayment_cc_exp_month').removeClass("cctype-fields-error");
//                     $('#directpayment_cc_exp_year').removeClass("cctype-fields-error");
//                     $('#directpayment_cc_exp_month').removeClass("invalid");
//                     $('#directpayment_cc_exp_year').removeClass("invalid");
//                     $('#'+data.field).removeClass("invalid");
//                     $('#directpayment_cc_exp_Error').hide();
//                     break;
//             }
//         }
//     });
//     var validateCartForm = function() {
//         if (validateForm(true)) {
//             if (paymentForm) {
//                     $(".loading").show();
//                 if (accountCreate(true)) { console.log('mode => accountCreate');
//                     $.directPayment.doTransaction({
//                         //useLoader:true,
//                         onFormValidation: function(data) { formValidationError(data);}
//                     });
//                 }
//             }
//         }
//     };
//     var checkPendingRequest = function() {
//         var count = 'Count';
//         if (!$('.checking-eec').length) {
//             window.setTimeout(checkPendingRequest, 100);
//         }
//         else {
//             validateCartForm();
//         }
//     };
//     if ($('#cart-login').is(':visible')) {
//         if ($('#Customer_Main_Company_EEC_VAT_NUMBER').is(':visible')) {
//           var $vatNumberField = $('.js-vat-number');
//           $vatNumberField.removeClass('checking-eec');
//           eecVatValidator(); // Run Validate EEC Number
//           if (!!$vatNumberField.val()) {
//               window.setTimeout(checkPendingRequest, 100); // Waiting for response
//           } else {
//               validateCartForm();
//           }
//           return;
//         }
//         validateCartForm();
//     } else {
//             if (validateForm(true)) {
//                 if (paymentForm)
//                     $(".loading").show();
//                     $.directPayment.doTransaction({
//                         //useLoader:true,
//                         onFormValidation: function(data) { formValidationError(data);}
//                     });
//                 } else {
//                     $(window).scrollTop('#loginOld');
//                     $('.sub-menu-text').css("color","red");
//                     $('.login-text-creat').css("color","red");
//                 }
//     }
//     checkAgreement();
// }

function initXsolla() {
  console.log('hi');
}

function formValidationError(data) {
    if (data.role=="credit_card") {
        $(".loading").hide();
        $(".cctype-credit_card-formvalidation-error").show().delay(3000).fadeOut(400);
        $('#directpayment_cc_number_field').addClass("cctype-fields-error");
        $('#directpayment_cc_number_field').addClass("invalid");
        $('#directpayment_cc_number_Error').show().delay(3000).fadeOut(400);
        $('#directpayment_cc_cid_field').addClass("cctype-fields-error");
        $('#directpayment_cc_cid_Error').show().delay(3000).fadeOut(400);
    } else if ((data.role=="online_bank_transfer") && (data.role =="giropay")) {
        $(".loading").hide();
        $(".cctype-giropay-formvalidation-error").show().delay(3000).fadeOut(400);
    }
}
</script>
<script>
$(document).ready(function(){
    if($($('.product-bg a').attr('href')) && $('.product-bg a').attr('href') !=undefined){
       $('.product-bg').hover(function(){
            $(this).css({cursor :'pointer'});
        });
        $('.product-bg').click(function(event){
            event.preventDefault();
            $('.product-bg a:first').attr('target', '_blank');
            var vindow_name = $('.product-bg a:first').attr('title');
            var bg_url =  $('.product-bg a:first').attr('href');
            location.href= bg_url;
            //window.open(bg_url,"_blank","fullscreen=yes");
       });
    }
});
</script>
<!-- analyticstags footer -->
    <!-- APPEL nxw_analyticstags_body_footer -->
<!-- Start Xiti -->
<script type="text/javascript" src="./Focus_Vampyr_files/smarttag.js"></script>
<script>
var ATTag = new ATInternet.Tracker.Tag({
                log: "logi7",
                logSSL: "logs",
                secure: false,
                site: 222550,
                domain: "xiti.com"
});
ATTag.page.send({
  name: "pagename",
  level2: "1"
});
</script> 
<!-- analyticstags footer end -->


<!-- en_US -->
<!-- cart.html -->

 <!-- cart_opc.html -->
</body></html>
